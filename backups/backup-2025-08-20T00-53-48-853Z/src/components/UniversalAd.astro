---
/**
 * Universal Ad Component
 * Renders any ad configuration dynamically based on the centralized config
 */

import type { AdConfig } from '../config/adConfig';
import { AdManager } from '../config/adConfig';
import HybridAdManager from '../utils/sanityAds';

interface Props {
  adId: string;
  adConfig?: AdConfig;
  className?: string;
}

const { adId, adConfig, className = '' } = Astro.props;

// Debug: Log component execution
console.log(`UniversalAd: Rendering component for adId='${adId}'`);

// Use HybridAdManager to fetch from Sanity CMS first, then fallback to local config
let ad: AdConfig | undefined = adConfig;

if (!ad) {
  try {
    // Try to fetch from Sanity CMS first via HybridAdManager
    ad = await HybridAdManager.getAdById(adId);
    
    console.log(`UniversalAd: HybridAdManager.getAdById('${adId}') returned:`, ad);
    
    // If Sanity CMS doesn't have it, try local AdManager
    if (!ad) {
      console.log(`UniversalAd: Sanity CMS doesn't have '${adId}', trying local AdManager...`);
      ad = AdManager.getAdById(adId);
      console.log(`UniversalAd: Local AdManager.getAdById('${adId}') returned:`, ad);
    }
    
    // Only create fallback if both Sanity CMS and local config fail
    if (!ad) {
      console.warn(`UniversalAd: No ad found for ID '${adId}' in both Sanity CMS and local config. Creating minimal fallback.`);
      
      // Extract base adId and potential category slug
      const adIdParts = adId.split('-');
      let baseAdId = adId;
      let categorySlugFromId = '';

      if (adIdParts.length > 1 && adIdParts[adIdParts.length - 1].length > 0) {
        // Check if the last part looks like a slug (e.g., not just a number)
        const lastPart = adIdParts[adIdParts.length - 1];
        if (isNaN(parseInt(lastPart)) && lastPart.match(/^[a-z0-9-]+$/)) {
          categorySlugFromId = lastPart;
          baseAdId = adIdParts.slice(0, adIdParts.length - 1).join('-');
        }
      }

      const categoryName = categorySlugFromId ? categorySlugFromId.replace(/-/g, ' ').split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ') : 'AI';

      // Define fallback content templates
      const fallbackTemplates = {
        'sidebar-premium-spotlight': {
          title: `Premium AI Tools for ${categoryName}`,
          description: `Discover top-rated AI solutions tailored for ${categoryName} professionals.`,
          icon: 'âœ¨',
          badge: 'FEATURED'
        },
        'sidebar-newsletter-promo': {
          title: `AI Innovation Weekly`,
          description: `Exclusive insights, cutting-edge tools, and expert strategies delivered to your inbox every week.`,
          icon: 'ðŸš€',
          badge: 'PREMIUM'
        },
        'sidebar-trending-news': {
          title: `Trending ${categoryName} AI News`,
          description: `Don't miss out on the latest breakthroughs and trends in ${categoryName} AI.`,
          icon: 'ðŸ“°',
          badge: 'HOT'
        },
        'hero-premium-top': {
          title: 'Boost Your AI Workflow',
          description: 'Premium flexible hero ad - responsive width, optimized for sidebar integration',
          icon: 'âš¡',
          badge: 'FEATURED'
        },
        'leaderboard-main': {
          title: 'Supercharge Your AI Journey',
          description: 'Discover premium AI tools that successful entrepreneurs use to scale their businesses',
          icon: 'â­',
          badge: 'PREMIUM'
        },
        'default': {
          title: 'Explore AI Innovations',
          description: 'Find the best AI tools and insights for your needs.',
          icon: 'ðŸ’¡',
          badge: 'NEW'
        }
      };

      const content = fallbackTemplates[baseAdId as keyof typeof fallbackTemplates] || fallbackTemplates.default;

      ad = {
        id: adId,
        type: adId.includes('leaderboard') ? 'leaderboard' : adId.includes('hero') ? 'hero' : 'sidebar',
        placement: 'fallback',
        active: true,
        priority: 999,
        title: content.title,
        description: content.description,
        cta: 'Learn More',
        ctaUrl: '#',
        badge: content.badge,
        icon: content.icon,
        dimensions: { width: 300, height: 180 }, // Default dimensions for fallback
        styling: {
          theme: 'gradient',
          colors: { primary: '#00c4ef', secondary: '#0056ef' }
        },
        analytics: {
          trackingId: `fallback-${adId}`,
          eventCategory: 'ads',
          eventAction: 'click'
        },
        revenue: { cpm: 0, estimatedMonthlyRevenue: 0, adNetwork: 'fallback' }
      };
    }
  } catch (error) {
    console.error(`UniversalAd: Error loading ad '${adId}':`, error);
    // Try direct local config import as last resort
    try {
      const { AdManager } = await import('../config/adConfig');
      ad = AdManager.getAdById(adId);
      console.log(`UniversalAd: Direct local config fallback for '${adId}':`, ad);
    } catch (localError) {
      console.error(`UniversalAd: Local config fallback also failed:`, localError);
    }
    
    // Create professional fallback for visitors while waiting for partners
    if (!ad) {
      ad = {
        id: adId,
        type: 'sidebar',
        placement: 'fallback',
        active: true,
        priority: 999,
        title: 'AI Tools Discovery',
        description: 'Explore cutting-edge AI solutions handpicked for entrepreneurs',
        cta: 'Discover Tools',
        ctaUrl: '/ai-tools',
        icon: 'ðŸ¤–',
        dimensions: { width: 300, height: 180 },
        targeting: {},
        styling: {
          theme: 'gradient',
          colors: {
            primary: '#00c4ef',
            secondary: '#0056ef'
          },
          animation: 'none'
        },
        analytics: {
          trackingId: adId,
          eventCategory: 'ai_tools_discovery',
          eventAction: 'click'
        },
        revenue: {
          cpm: 0,
          estimatedMonthlyRevenue: 0,
          adNetwork: 'internal'
        }
      };
    }
  }
}



// Now we should always have an ad (either real or fallback)
if (!ad || !ad.active) {
  console.error(`UniversalAd: Critical error - no ad available for '${adId}'`);
  return null;
}

// Generate dynamic styles based on ad configuration
const getAdStyles = (ad: AdConfig) => {
  const { styling, dimensions } = ad;
  
  let backgroundStyle = '';
  if (styling.theme === 'gradient') {
    backgroundStyle = `linear-gradient(135deg, ${styling.colors.primary} 0%, ${styling.colors.secondary} 100%)`;
  } else if (styling.theme === 'solid') {
    backgroundStyle = styling.colors.primary;
  }
  
  return {
    background: backgroundStyle,
    width: `${dimensions.width}px`,
    height: `${dimensions.height}px`,
    maxWidth: '100%'
  };
};

const adStyles = getAdStyles(ad);
const isLeaderboard = ad.type === 'leaderboard';
const isSidebar = ad.type === 'sidebar';
const isHero = ad.type === 'hero';





// Generate tracking code
const trackingCode = `
  function trackPromoClick_${ad.id.replace(/-/g, '_')}() {
    if (typeof gtag !== 'undefined') {
      gtag('event', '${ad.analytics.eventAction}', {
        'event_category': '${ad.analytics.eventCategory}',
        'event_label': '${ad.id}',
        'custom_parameter_1': '${ad.placement}',
        'custom_parameter_2': '${ad.type}'
      });
    }
    

  }
`;

---

<!-- UniversalAd Component - CSS ISOLATED to prevent parent layout bleeding -->
{ad && (
  <div class="universal-ad-isolator" style="isolation: isolate !important; display: block !important; position: relative !important; background: linear-gradient(135deg,rgba(0,212,255,0.03) 0%,rgba(0,102,255,0.03) 100%) !important; border-radius: 0 !important;">
    <div class={`universal-promo promo-${ad.type} promo-${ad.id} ${className}`} data-promo-id={ad.id}>
    

    
    {/* Sidebar Ad Rendering */}
    {(ad.type === 'sidebar' && ad.id !== 'hero-premium-top') && (
      <a 
        href={ad.ctaUrl}
        class="sidebar-promo"
        onclick={`trackPromoClick_${ad.id.replace(/-/g, '_')}()`}
        target="_blank"
        rel="noopener noreferrer"
        style={`background: ${adStyles.background}; width: ${adStyles.width}; height: ${adStyles.height};`}
      >
        {ad.badge && <span class="promo-badge">{ad.badge}</span>}
        
        <div class="promo-content">
          {ad.icon && (
            <div class="promo-icon">
              <span class="icon-emoji">{ad.icon}</span>
            </div>
          )}
          <h3 class="promo-title gradient-text">{ad.title}</h3>
          <p class="promo-description">{ad.description}</p>
          <span class="promo-cta">{ad.cta}</span>
        </div>
      </a>
    )}
    
    {/* Spectacular Leaderboard Ad */}
    {ad.type === 'leaderboard' && (
      <div class="leaderboard-promo-container">
        <a 
          href={ad.ctaUrl} 
          class="leaderboard-promo-link"
          onclick={`trackPromoClick_${ad.id.replace(/-/g, '_')}()`}
          target="_blank"
          rel="noopener noreferrer"
        >
          <div class="leaderboard-floating-icon">
            {ad.icon && (
              <div class="leaderboard-icon-wrapper">
                <span class="leaderboard-icon-emoji">{ad.icon}</span>
                <div class="leaderboard-icon-halo"></div>
              </div>
            )}
          </div>
          
          <div class="leaderboard-content">
            {ad.badge && (
              <div class="leaderboard-badge-wrapper">
                <span class="leaderboard-premium-badge">{ad.badge}</span>
              </div>
            )}
            <h3 class="leaderboard-title">{ad.title}</h3>
            <p class="leaderboard-description">{ad.description}</p>
          </div>
          
          <div class="leaderboard-cta-section">
            <span class="leaderboard-cta-button">
              <span class="leaderboard-cta-text">{ad.cta}</span>
              <div class="leaderboard-cta-shine"></div>
            </span>
          </div>
          
          <div class="leaderboard-particles">
            <div class="leaderboard-particle leaderboard-particle-1"></div>
            <div class="leaderboard-particle leaderboard-particle-2"></div>
            <div class="leaderboard-particle leaderboard-particle-3"></div>
          </div>
        </a>
      </div>
    )}
    
    {/* Premium Hero Ad - Rebuilt for Zero Conflicts */}
    {(ad.type === 'hero' || ad.id === 'hero-premium-top') && (
      <div class="premium-hero-ad-container">
        <div class="premium-hero-ad-inner">
          <div class="premium-icon-section">
            {ad.icon && (
              <div class="premium-icon-wrapper">
                <span class="premium-icon-emoji">{ad.icon}</span>
              </div>
            )}
          </div>
          <div class="premium-content-section">
            {ad.badge && (
              <div class="premium-badge-wrapper">
                <span class="premium-badge">{ad.badge}</span>
              </div>
            )}
            <h3 class="premium-title">{ad.title}</h3>
            <p class="premium-description">{ad.description}</p>
            <a 
              href={ad.ctaUrl} 
              class="premium-cta-button"
              onclick={`trackPromoClick_${ad.id.replace(/-/g, '_')}()`}
              target="_blank"
              rel="noopener noreferrer"
            >
              <span class="premium-cta-text">{ad.cta}</span>
              <svg class="premium-cta-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none">
                <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    )}
    

    
    </div>
  </div>
)}

<!-- JavaScript for Analytics Tracking -->
<script is:inline set:html={trackingCode}></script>

<style is:global>
/* Universal Ad Styles - Clean and Professional */
.universal-promo {
  position: relative;
  margin: 0 !important; /* Force zero margin */
  padding: 0;
  box-sizing: border-box;
  z-index: 1;
  overflow: hidden; /* Clip any overflowing content/shadows */
}

/* Sidebar Context */
.category-sidebar .universal-promo,
.hero-sidebar .secondary-grid .universal-promo {
  margin: 0;
  padding: 0;
}

.category-sidebar .universal-promo:first-child {
  margin: 0;
}

/* ===== HERO AD STYLES - MATCHING ACTUAL HTML STRUCTURE ===== */

/* 1. Main Container */
.premium-hero-ad-container {
  background: linear-gradient(135deg, #1A1A1B 0%, #252529 100%);
  border: 1px solid rgba(0, 212, 255, 0.2);
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  cursor: pointer;
}

.premium-hero-ad-container:hover {
  border-color: rgba(0, 212, 255, 0.4);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
  transform: translateY(-1px);
}

/* 2. Layout Structure - SCOPED to prevent parent container interference */
.premium-hero-ad-container .premium-hero-ad-inner {
  display: flex !important;
  align-items: center !important;
  gap: 0.75rem !important;
  padding: 0.75rem !important;
  height: 100% !important;
  width: 100% !important;
  /* Ensure this doesn't affect parent grid */
  contain: layout style !important;
}

/* 3. Icon Section - SCOPED */
.premium-hero-ad-container .premium-icon-section {
  flex-shrink: 0 !important;
  width: 80px !important;
  height: 80px !important;
}

.premium-hero-ad-container .premium-icon-wrapper {
  width: 80px !important;
  height: 80px !important;
  border-radius: 8px !important;
  background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  box-shadow: 0 2px 8px rgba(0, 212, 255, 0.2) !important;
}

.premium-hero-ad-container .premium-icon-emoji {
  font-size: 3rem !important;
  filter: drop-shadow(0 2px 8px rgba(0, 212, 255, 0.3)) !important;
  display: block !important;
  line-height: 1 !important;
}

/* 4. Content Section - SCOPED to prevent parent interference */
.premium-hero-ad-container .premium-content-section {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  gap: 0.4rem !important;
  /* padding-right: 0.5rem !important; */
  position: relative !important;
  /* Prevent layout bleeding */
  contain: layout style !important;
}

/* 5. Badge Styling - SCOPED */
.premium-hero-ad-container .premium-badge-wrapper {
  /* position: absolute !important; */
  /* top: 0.25rem !important; */
  /* right: 0.75rem !important; */
  z-index: 3 !important;
}

.premium-hero-ad-container .premium-badge {
  position: absolute !important;
  top: 0.25rem !important;
  right: 0.75rem !important;
  background: rgba(0, 212, 255, 0.2) !important;
  color: #00d4ff !important;
  padding: 0.2rem 0.5rem !important;
  border-radius: 12px !important;
  font-size: 0.65rem !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  transition: all 0.3s ease !important;
}

/* 6. Title Styling - SCOPED */
.premium-hero-ad-container .premium-title {
  font-size: 0.9rem !important;
  margin: 0 !important;
  line-height: 1.2 !important;
  color: var(--color-text) !important;
  font-weight: 600 !important;
  font-family: inherit !important;
  transition: all 0.3s ease !important;
}

/* 7. Description Styling - SCOPED */
.premium-hero-ad-container .premium-description {
  color: #b3b3b3 !important;
  font-size: 0.75rem !important;
  line-height: 1.3 !important;
  margin: 0 !important;
  text-align: left !important;
  display: block !important;
  overflow: visible !important;
  text-overflow: unset !important;
  white-space: normal !important;
}

/* 8. CTA Button Styling - SCOPED */
.premium-hero-ad-container .premium-cta-button {
  background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%) !important;
  color: white !important;
  border: none !important;
  padding: 0.4rem 0.8rem !important;
  border-radius: 6px !important;
  font-weight: 600 !important;
  font-size: 0.7rem !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  box-shadow: 0 2px 6px rgba(0, 212, 255, 0.3) !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.3rem !important;
  text-decoration: none !important;
  text-align: center !important;
  margin: 0 !important;
  flex-shrink: 0 !important;
  white-space: normal !important; /* Allow text to wrap */
  align-self: flex-start !important;
}

.premium-hero-ad-container .premium-cta-button:hover {
  background: linear-gradient(135deg, #00e5ff 0%, #0077ff 100%) !important;
  box-shadow: 0 4px 10px rgba(0, 212, 255, 0.4) !important;
  transform: translateY(-1px) !important;
}

.premium-hero-ad-container .premium-cta-text {
  font-size: inherit !important;
  font-weight: inherit !important;
  color: inherit !important;
}

.premium-hero-ad-container .premium-cta-arrow {
  width: 12px !important;
  height: 12px !important;
  stroke: currentColor !important;
  transition: transform 0.3s ease !important;
}

.premium-hero-ad-container .premium-cta-button:hover .premium-cta-arrow {
  transform: translateX(2px) !important;
}




  /* Remove all overlay effects to match secondary articles exactly */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo::after {
    display: none !important;
  }

  /* Badge - Override ALL global conflicts */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-badge,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-badge,
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo span.promo-badge,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo span.promo-badge {
    position: absolute !important;
    top: 0.75rem !important;
    right: 0.75rem !important;
    background: rgba(0, 212, 255, 0.2) !important;
    color: #00d4ff !important;
    padding: 0.2rem 0.5rem !important;
    border-radius: 12px !important;
    font-size: 0.65rem !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    z-index: 3 !important;
    transition: all 0.3s ease !important;
    /* CRITICAL: Override any global badge/span styles */
    font-family: inherit !important;
    line-height: 1 !important;
    margin: 0 !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* Hero Content - Horizontal layout matching secondary articles */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-content,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-content {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: flex-start !important;
    text-align: left !important;
    gap: 1.2rem !important;
    width: 100% !important;
    height: 100% !important;
    padding: 0 !important;
    z-index: 2 !important;
    position: relative !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
  }

  /* Icon - Compact size for 124px height layout */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-icon,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-icon {
    width: 80px !important;
    height: 80px !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    flex-shrink: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: relative !important;
    background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%) !important;
    box-shadow: 0 2px 8px rgba(0, 212, 255, 0.2) !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-icon .icon-emoji,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-icon .icon-emoji {
    font-size: 2.5rem !important;
    filter: drop-shadow(0 2px 8px rgba(0, 212, 255, 0.3)) !important;
    display: block !important;
    line-height: 1 !important;
  }

  /* Text content area - Compact layout for 124px height */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-text {
    flex: 1 !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    gap: 0.4rem !important;
    padding-right: 0.5rem !important;
  }

  /* Title - Compact sizing for 124px height */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-title,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-title,
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo h3.promo-title,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo h3.promo-title {
    font-size: 0.9rem !important;
    margin: 0 !important;
    line-height: 1.2 !important;
    color: var(--color-text) !important;
    font-weight: 600 !important;
    font-family: inherit !important;
    /* CRITICAL: Override global gradient text styles */
    background: none !important;
    -webkit-background-clip: initial !important;
    -webkit-text-fill-color: initial !important;
    background-clip: initial !important;
    transition: all 0.3s ease !important;
  }

  /* High-Specificity Override: Restore Gradient Text for Hero Promo Titles */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-title.gradient-text,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-title.gradient-text,
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo h3.promo-title.gradient-text,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo h3.promo-title.gradient-text {
    background: linear-gradient(135deg, #ffffff 0%, #00d4ff 100%) !important;
    background-clip: text !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    color: transparent !important;
    font-weight: 600 !important;
    text-align: center !important;
  }

  /* Description - Compact sizing for 124px height */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-description,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-description {
    color: #b3b3b3 !important;
    font-size: 0.75rem !important;
    line-height: 1.3 !important;
    margin: 0 !important;
    text-align: left !important;
    display: block !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: normal !important; /* Allow text to wrap */
  }

  /* CTA Button - Compact design for 124px height */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-cta,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-cta,
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo button.promo-cta,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo button.promo-cta {
    background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%) !important;
    color: white !important;
    border: none !important;
    padding: 0.4rem 0.8rem !important;
    border-radius: 6px !important;
    font-weight: 600 !important;
    font-size: 0.7rem !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 2px 6px rgba(0, 212, 255, 0.3) !important;
    display: inline-block !important;
    text-decoration: none !important;
    text-align: center !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
    white-space: normal !important; /* Allow text to wrap */
    align-self: flex-start !important;
    /* CRITICAL: Override global button styles */
    min-height: auto !important;
    min-width: auto !important;
    font-family: inherit !important;
    will-change: auto !important;
    transform: none !important;
  }

  /* CTA Button Hover - Standardized with enhanced effects */
  .hero-sidebar .secondary-grid .universal-promo .sidebar-promo .promo-cta:hover,
  .hero-sidebar .secondary-grid div.universal-promo a.sidebar-promo .promo-cta:hover {
    background: linear-gradient(135deg, #00e5ff 0%, #0077ff 100%) !important;
    box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4) !important;
    transform: translateY(-1px) !important;
  }

  /* Sidebar Promo Styles - Premium Visual Quality */
  .universal-promo .sidebar-promo {
    background: linear-gradient(135deg, #00c4ef 0%, #0056ef 100%); /* Blue gradient */
    border: 1px solid rgba(0, 196, 239, 0.5) !important; /* Ensure border is applied */
    border-radius: 20px; /* Slightly more rounded */
    overflow: hidden;
    position: relative;
    backdrop-filter: blur(20px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    color: inherit;
    display: flex; /* Change to flex container */
    flex-direction: column; /* Stack items vertically */
    justify-content: space-between; /* Distribute space between items */
    align-items: center; /* Center items horizontally */
    width: 100% !important; /* Make ad responsive to container width */
    padding: 1.5rem; /* Consistent padding for the whole ad */
    margin: 0 auto !important; /* Center horizontally */
    box-shadow:
      0 4px 15px rgba(0, 196, 239, 0.2), /* More subtle shadow */
      0 2px 8px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.1); /* Lighter inner shadow */
    box-sizing: border-box; /* Include padding and border in dimensions */
  }

  .universal-promo .sidebar-promo:hover {
    border-color: rgba(0, 196, 239, 0.8); /* More prominent hover border */
    box-shadow:
      0 6px 20px rgba(0, 196, 239, 0.3), /* More subtle hover shadow */
      0 3px 10px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    transform: translateY(-5px) scale(1.02); /* More pronounced lift */
  }

  .universal-promo .sidebar-promo .promo-badge {
    position: absolute !important;
    top: 15px !important; /* Adjusted position */
    right: 15px !important; /* Adjusted position */
    background: rgba(255, 255, 255, 0.3) !important; /* More transparent background */
    backdrop-filter: blur(12px) !important; /* Slightly more blur */
    color: white !important;
    padding: 5px 10px !important; /* Slightly smaller padding */
    border-radius: 15px !important; /* More rounded */
    font-size: 0.7rem !important; /* Slightly smaller font */
    font-weight: 700 !important; /* Bolder font */
    text-transform: uppercase !important;
    letter-spacing: 0.8px !important; /* Increased letter spacing */
    border: 1px solid rgba(255, 255, 255, 0.4) !important; /* More prominent border */
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important; /* Stronger text shadow */
  }

  /* Sidebar Section Styling - Optimized for Space Efficiency */
  .category-sidebar .universal-promo,
  .sidebar .universal-promo {
    background: var(--bg-card, rgba(26, 26, 27, 0.95)) !important; /* Keep original dark background for the outer container */
    border-radius: 20px !important;
    padding: 0 !important;
    border: 1px solid var(--border-color, rgba(0, 212, 255, 0.2)) !important;
    backdrop-filter: blur(10px) !important;
    box-shadow: var(--shadow-card, 0 4px 15px rgba(0, 212, 255, 0.1)) !important;
    transition: all 0.3s ease !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  .category-sidebar .universal-promo:hover,
  .sidebar .universal-promo:hover {
    box-shadow: var(--shadow-hover, 0 8px 25px rgba(0, 212, 255, 0.15)) !important;
    transform: translateY(-2px) !important;
  }

  /* Sidebar Content - Clean vertical layout */
  .universal-promo .sidebar-promo .promo-content {
    /* Remove absolute positioning and padding, rely on parent flexbox */
    height: 100% !important; /* Ensure promo-content fills available height */
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    text-align: center;
    position: static; /* Revert to static positioning */
    z-index: 2;
    gap: 0.5rem; /* Reduced gap for better content fit */
    /* Remove top, left, inset properties */
    box-sizing: border-box; /* Ensure padding is included in total dimensions */
  }

  /* Icon styling - Premium visual effects */
  .universal-promo .sidebar-promo .promo-icon {
    width: 60px; /* Adjusted size */
    height: 60px; /* Adjusted size */
    border-radius: 50%;
    background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%); /* More vibrant blue gradient */
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(15px);
    border: 2px solid rgba(0, 212, 255, 0.6); /* More prominent border */
    position: relative;
    overflow: hidden;
    box-shadow:
      0 10px 30px rgba(0, 212, 255, 0.3), /* Enhanced shadow */
      0 5px 15px rgba(0, 0, 0, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
    flex-shrink: 0; /* Prevent shrinking */
  }

  .universal-promo .sidebar-promo:hover .promo-icon {
    transform: scale(1.15) rotate(7deg); /* More pronounced hover effect */
    box-shadow:
      0 15px 40px rgba(0, 212, 255, 0.4),
      0 8px 20px rgba(0, 0, 0, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
  }

  .universal-promo .sidebar-promo .promo-icon .icon-emoji {
    font-size: 2rem; /* Further adjusted emoji size */
    display: block;
    line-height: 1;
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 15px rgba(0, 212, 255, 0.5)); /* Added glow effect */
  }

  /* Fix for icon-emoji span inside sidebar promo-icon */
  .universal-promo .sidebar-promo .promo-icon .icon-emoji {
    font-size: 2rem !important; /* Further adjusted emoji size */
    display: block !important;
    line-height: 1 !important;
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 15px rgba(0, 212, 255, 0.5)) !important; /* Added glow effect */
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-5px); }
  }

  /* Title styling - Clean and readable */
  .universal-promo .sidebar-promo .promo-title {
    font-size: 1.25rem; /* Slightly larger title */
    font-weight: 700;
    line-height: 1.3;
    margin: 0;
    color: white;
    text-align: center;
    display: block;
    background: linear-gradient(135deg, #ffffff 0%, #e6f7ff 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center !important;
    display: block !important;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4); /* Added text shadow */
  }

  /* Description styling - Original Design */
  .universal-promo .sidebar-promo p.promo-description {
    color: #e0e0e0 !important; /* Lighter description text */
    font-size: 0.9rem !important; /* Adjusted font size for responsive content */
    margin: 0 !important; /* Remove margin-bottom to prevent pushing CTA */
    line-height: 1.4 !important; /* Slightly reduced line height */
    text-align: center !important;
    display: block !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    white-space: normal !important; /* Allow text to wrap */
    flex-grow: 1; /* Allow description to grow and take available space */
  }



  /* CTA Button styling - Premium Design */
  .universal-promo .sidebar-promo .promo-cta {
    background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%); /* Consistent blue gradient */
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3); /* Slightly more prominent border */
    padding: 0.6rem 1.2rem; /* Adjusted padding */
    border-radius: 15px; /* More rounded */
    font-weight: 700;
    font-size: 1rem; /* Slightly larger font */
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow:
      0 8px 25px rgba(0, 212, 255, 0.5), /* Enhanced shadow */
      0 4px 12px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4); /* Stronger inner shadow */
    display: block; /* Changed to block for margin auto centering */
    text-decoration: none;
    text-align: center;
    flex-shrink: 0;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3); /* Added text shadow */
    margin: 0 auto; /* Centered horizontally */
  }

  .universal-promo .sidebar-promo .promo-cta:hover {
    transform: translateY(-4px) scale(1.06); /* More pronounced hover effect */
    box-shadow:
      0 12px 35px rgba(0, 212, 255, 0.6),
      0 6px 18px rgba(0, 0, 0, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.5);
    background: linear-gradient(135deg, #00e5ff 0%, #0077ff 100%); /* Brighter hover gradient */
    border-color: rgba(255, 255, 255, 0.5);
  }

  .universal-promo .sidebar-promo .promo-cta:active {
    transform: translateY(-2px) scale(1.03); /* More pronounced active effect */
    box-shadow:
      0 6px 20px rgba(0, 212, 255, 0.5),
      0 3px 10px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }

  /* Hero Promo Styles - Enhanced Professional Design */
  .hero-sidebar .secondary-grid .universal-promo .hero-promo.secondary-article,
  .universal-promo .hero-promo.secondary-article {
    /* Style reset to prevent parent interference and fix positioning */
    margin: 0 !important;
    padding: 1.5rem !important;
    box-sizing: border-box !important;
    position: relative !important;
    z-index: 10 !important;
    
    /* Enhanced core styling with premium appearance */
    background: linear-gradient(135deg, #00c4ef 0%, #0056ef 50%, #003d99 100%) !important;
    border-radius: 16px !important;
    overflow: hidden !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    border: 2px solid rgba(0, 196, 239, 0.4) !important;
    contain: layout style !important;
    height: auto !important;
    min-height: 200px !important;
    max-height: 200px !important;
    box-shadow: 0 8px 32px rgba(0, 196, 239, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(20px) !important;
    display: flex !important;
    align-items: center !important;
    gap: 1.5rem !important;
    text-decoration: none !important;
    color: white !important;
    width: 100% !important;
    flex: none !important;
    will-change: transform !important;
    cursor: pointer !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo.secondary-article:hover,
  .universal-promo .hero-promo.secondary-article:hover {
    transform: translateY(-4px) scale(1.02) !important;
    box-shadow: 0 16px 48px rgba(0, 196, 239, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    border-color: rgba(0, 196, 239, 0.7) !important;
    background: linear-gradient(135deg, #00d4ff 0%, #0066ff 50%, #004db3 100%) !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-visual-container,
  .universal-promo .hero-promo .promo-visual-container {
    width: 140px !important;
    height: 140px !important;
    position: relative !important;
    overflow: hidden !important;
    contain: layout !important;
    flex-shrink: 0 !important;
    border-radius: 20px !important;
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.2) !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-icon-wrapper,
  .universal-promo .hero-promo .promo-icon-wrapper {
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: relative !important;
    backdrop-filter: blur(20px) !important;
    border-radius: 20px !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    overflow: hidden !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-icon,
  .universal-promo .hero-promo .promo-icon {
    font-size: 4rem !important;
    color: white !important;
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 20px rgba(0, 212, 255, 0.5)) !important;
    animation: float 4s ease-in-out infinite, glow 2s ease-in-out infinite alternate !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: transform !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4) !important;
  }

  /* Enhanced icon-emoji with premium effects */
  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-icon .icon-emoji,
  .universal-promo .hero-promo .promo-icon .icon-emoji {
    font-size: 4rem !important;
    color: white !important;
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 20px rgba(0, 212, 255, 0.5)) !important;
    animation: float 4s ease-in-out infinite, glow 2s ease-in-out infinite alternate !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: transform !important;
    display: block !important;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4) !important;
    line-height: 1 !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-content-wrapper,
  .universal-promo .hero-promo .promo-content-wrapper {
    position: relative !important;
    z-index: 2 !important;
    backdrop-filter: blur(20px) !important;
    border-radius: 16px !important;
    padding: 1.5rem !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%) !important;
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    width: 100% !important;
    flex: 1 !important;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-badge-container,
  .universal-promo .hero-promo .promo-badge-container {
    margin-bottom: 0.5rem;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-badge,
  .universal-promo .hero-promo .promo-badge {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.9) 0%, rgba(0, 86, 239, 0.9) 100%) !important;
    color: white !important;
    padding: 8px 16px !important;
    border-radius: 20px !important;
    font-size: 0.7rem !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.8px !important;
    box-shadow: 0 4px 12px rgba(0, 212, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    display: inline-block !important;
    backdrop-filter: blur(10px) !important;
    animation: badgeGlow 3s ease-in-out infinite !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-title,
  .universal-promo .hero-promo .promo-title {
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    margin: 0 0 0.75rem 0 !important;
    line-height: 1.2 !important;
    color: white !important;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 212, 255, 0.3) !important;
    background: linear-gradient(135deg, #ffffff 0%, #e6f7ff 100%) !important;
    background-clip: text !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-description,
  .universal-promo .hero-promo .promo-description {
    font-size: 0.95rem !important;
    color: rgba(255, 255, 255, 0.95) !important;
    line-height: 1.5 !important;
    margin: 0 0 1.25rem 0 !important;
    opacity: 1 !important;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3) !important;
    font-weight: 400 !important;
    letter-spacing: 0.2px !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-cta-wrapper,
  .universal-promo .hero-promo .promo-cta-wrapper {
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.2) 0%, rgba(0, 86, 239, 0.2) 100%) !important;
    border: 1px solid rgba(0, 212, 255, 0.4) !important;
    color: white !important;
    text-decoration: none !important;
    font-weight: 600 !important;
    font-size: 0.9rem !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    padding: 0.75rem 1.25rem !important;
    border-radius: 12px !important;
    will-change: transform !important;
    backdrop-filter: blur(10px) !important;
    box-shadow: 0 4px 12px rgba(0, 212, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-cta-wrapper:hover,
  .universal-promo .hero-promo .promo-cta-wrapper:hover {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.3) 0%, rgba(0, 86, 239, 0.3) 100%) !important;
    border-color: rgba(0, 212, 255, 0.7) !important;
    color: #ffffff !important;
    transform: translateY(-2px) scale(1.05) !important;
    box-shadow: 0 8px 24px rgba(0, 212, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    text-shadow: 0 0 12px rgba(0, 212, 255, 0.6) !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-cta-wrapper svg,
  .universal-promo .hero-promo .promo-cta-wrapper svg {
    transition: transform 0.3s ease !important;
    will-change: transform !important;
  }

  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-cta-wrapper:hover svg,
  .universal-promo .hero-promo .promo-cta-wrapper:hover svg {
    transform: translateX(2px) !important;
  }

  /* Fix for cta-text span inside promo-cta-wrapper */
  .hero-sidebar .secondary-grid .universal-promo .hero-promo .promo-cta-wrapper .cta-text,
  .universal-promo .hero-promo .promo-cta-wrapper .cta-text {
    font-weight: 600 !important;
    font-size: 0.9rem !important;
    color: inherit !important;
  }

  /* Enhanced keyframe animations for futuristic Hero ads */
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-6px);
    }
  }

  @keyframes sparkle {
    0%, 100% {
      opacity: 0;
      transform: scale(0.8);
    }
    50% {
      opacity: 1;
      transform: scale(1.2);
    }
  }

  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  /* Premium Hero Ad Animations */
  @keyframes borderFlow {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes shimmerGlow {
    0%, 100% {
      opacity: 0.7;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.02);
    }
  }

  @keyframes badgeGlow {
    0%, 100% {
      box-shadow: 
        0 4px 12px rgba(0, 212, 255, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }
    50% {
      box-shadow: 
        0 6px 20px rgba(0, 212, 255, 0.6),
        inset 0 2px 0 rgba(255, 255, 255, 0.4);
    }
  }

  @keyframes iconPulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 
        0 8px 24px rgba(0, 212, 255, 0.3),
        inset 0 2px 0 rgba(255, 255, 255, 0.2),
        inset 0 -2px 0 rgba(0, 0, 0, 0.2);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 
        0 12px 32px rgba(0, 212, 255, 0.4),
        inset 0 3px 0 rgba(255, 255, 255, 0.3),
        inset 0 -3px 0 rgba(0, 0, 0, 0.3);
    }
  }

  @keyframes iconShine {
    0% {
      left: -100%;
    }
    100% {
      left: 100%;
    }
  }

  @keyframes glow {
    0% {
      filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 20px rgba(0, 212, 255, 0.5));
    }
    100% {
      filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 30px rgba(0, 212, 255, 0.8));
    }
  }

  @keyframes emojiFloat {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    25% {
      transform: translateY(-3px) rotate(2deg);
    }
    50% {
      transform: translateY(0px) rotate(0deg);
    }
    75% {
      transform: translateY(3px) rotate(-2deg);
    }
  }

  @keyframes titleShimmer {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes ctaPulse {
    0%, 100% {
      box-shadow: 
        0 6px 20px rgba(0, 212, 255, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }
    50% {
      box-shadow: 
        0 8px 24px rgba(0, 212, 255, 0.5),
        inset 0 2px 0 rgba(255, 255, 255, 0.4);
    }
  }







  /* Performance Optimizations - Prevent Layout Shifting */
  .universal-promo * {
    box-sizing: border-box;
  }

  .universal-promo img {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Stable dimensions to prevent CLS */
  .sidebar-promo-container {
    min-height: 250px;
  }

  .hero-promo.secondary-article {
    min-height: 240px;
  }

  .leaderboard-promo {
    min-height: 90px;
  }

  /* Responsive Design - Enhanced */
  @media (max-width: 768px) {
    .leaderboard-promo .promo-content {
      flex-direction: column;
      text-align: center;
      gap: 1rem;
    }

    .leaderboard-promo {
      padding: 1.25rem;
      min-height: 120px;
    }

    .sidebar-promo {
      padding: 1.25rem;
      min-height: 220px;
    }

    .hero-promo .promo-content-wrapper {
      padding: 1rem;
    }

    .hero-promo.secondary-article {
      min-height: 220px;
    }
  }

  /* Wave animation for leaderboard ads */
  .wave-overlay {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    animation: wave 3s infinite;
    pointer-events: none;
    z-index: 1;
  }

  @keyframes wave {
    0% { left: -100%; }
    100% { left: 100%; }
  }

  /* Base promo-content removed - using specific high-priority rules above */

  .promo-icon .icon-emoji {
    font-size: 2rem;
  }

  .promo-text h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin: 0;
    color: white;
  }

  .promo-text p {
    font-size: 0.9rem;
    margin: 0;
    opacity: 0.9;
    color: white;
  }

  .promo-cta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(255, 255, 255, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    color: white;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    margin-left: auto;
  }

  .promo-cta:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateX(2px);
  }

  /* Sidebar Promo Styles */
  .sidebar-promo-container {
    width: 100%;
    margin: 1rem 0;
  }

  .sidebar-promo {
    position: relative;
    width: 100%;
    border-radius: 12px;
    padding: 1.5rem;
    color: white;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .sidebar-promo:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
  }

  .promo-badge {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
  }

  /* Base promo-content removed - using specific high-priority rules above */

  .promo-icon .icon-emoji {
    font-size: 2rem;
    display: block;
    margin-bottom: 0.5rem;
  }

  .promo-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
    color: white;
  }

  .promo-description {
    font-size: 0.9rem;
    margin: 0 0 1rem 0;
    opacity: 0.9;
    color: white;
    line-height: 1.4;
  }

  /* Base promo-cta removed - using specific high-priority rules above */

  /* Duplicate hero promo styles removed - using enhanced styles above */

  .promo-visual-container {
    position: relative;
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(29, 78, 216, 0.1) 100%);
  }

  .promo-icon-wrapper .icon-emoji {
    font-size: 3rem;
  }

  .promo-badge-container .promo-badge {
    background: linear-gradient(45deg, #3b82f6, #1d4ed8);
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
  }

  .promo-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin: 0.5rem 0;
    color: #e2e8f0;
  }

  .promo-description {
    font-size: 0.85rem;
    color: #94a3b8;
    margin: 0 0 1rem 0;
    line-height: 1.4;
  }

  .promo-cta-wrapper {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all 0.3s ease;
  }

  .promo-cta-wrapper:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 212, 255, 0.3);
  }

  /* Sparkle Animation */
  .promo-sparkles {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .sparkle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    animation: sparkle 2s infinite;
  }

  .sparkle-1 {
    top: 20%;
    left: 20%;
    animation-delay: 0s;
  }

  .sparkle-2 {
    top: 60%;
    right: 30%;
    animation-delay: 0.7s;
  }

  .sparkle-3 {
    bottom: 30%;
    left: 60%;
    animation-delay: 1.4s;
  }

  @keyframes sparkle {
    0%, 100% { opacity: 0; transform: scale(0); }
    50% { opacity: 1; transform: scale(1); }
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .leaderboard-promo-section {
      padding: 2rem 0;
    }
    
    .leaderboard-promo {
      height: auto;
      min-height: 80px;
      padding: 1rem;
    }
    
    .promo-content {
      flex-direction: column;
      text-align: center;
      gap: 0.75rem;
    }
    
    .promo-cta {
      margin-left: 0;
    }
    
    .sidebar-promo {
      padding: 1rem;
    }
    
    .promo-title {
      font-size: 1rem;
    }
    
    .promo-description {
      font-size: 0.85rem;
    }
  }

  /* ========================================
     PREMIUM HERO AD - REBUILT FOR ZERO CONFLICTS
     ======================================== */

  /* Main Container - Hero Sidebar Optimized */
  .universal-promo.promo-hero.promo-hero-premium-top .premium-hero-ad-container,
  .universal-promo .premium-hero-ad-container,
  .premium-hero-ad-container {
    background: linear-gradient(135deg, 
      rgba(26, 26, 27, 0.95) 0%, 
      rgba(20, 20, 21, 0.98) 50%, 
      rgba(26, 26, 27, 0.95) 100%);
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid rgba(0, 212, 255, 0.2);
    display: flex;
    align-items: center;
    gap: 0.75rem;\n    padding: 0.75rem;
    text-decoration: none;
    color: inherit;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(15px);
    flex: 1;
    cursor: pointer;
    box-sizing: border-box;
    position: relative;
    box-shadow: 
      0 4px 20px rgba(0, 0, 0, 0.3),
      0 1px 3px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-hero-ad-container::before,
  .universal-promo .premium-hero-ad-container::before,
  .premium-hero-ad-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
      rgba(0, 212, 255, 0.05) 0%, 
      transparent 30%, 
      transparent 70%, 
      rgba(0, 102, 255, 0.05) 100%);
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-hero-ad-container:hover::before,
  .universal-promo .premium-hero-ad-container:hover::before,
  .premium-hero-ad-container:hover::before {
    opacity: 1;
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-hero-ad-container:hover,
  .universal-promo .premium-hero-ad-container:hover,
  .premium-hero-ad-container:hover {
    background: linear-gradient(135deg, 
      rgba(26, 26, 27, 0.98) 0%, 
      rgba(20, 20, 21, 1) 50%, 
      rgba(26, 26, 27, 0.98) 100%);
    border: 1px solid rgba(0, 212, 255, 0.4);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 
      0 12px 35px rgba(0, 212, 255, 0.15),
      0 4px 15px rgba(0, 0, 0, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }


  /* Icon section - Premium Enhanced */
  .universal-promo.promo-hero.promo-hero-premium-top .premium-icon-section,
  .universal-promo .premium-icon-section,
  .premium-icon-section {
    width: 100px;
    height: 100px;
    border-radius: 12px;
    overflow: hidden;
    flex-shrink: 0;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, 
      rgba(0, 212, 255, 0.3) 0%,
      rgba(0, 150, 255, 0.25) 30%,
      rgba(0, 102, 255, 0.2) 70%,
      rgba(0, 86, 239, 0.15) 100%);
    border: 1px solid rgba(0, 212, 255, 0.3);
    box-shadow: 
      0 4px 15px rgba(0, 212, 255, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-icon-wrapper,
  .universal-promo .premium-icon-wrapper,
  .premium-icon-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-icon-emoji,
  .universal-promo .premium-icon-emoji,
  .premium-icon-emoji {
    font-size: 2.5rem;
    color: white;
    z-index: 2;
    animation: iconPulse 3s ease-in-out infinite;
    text-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.5),
      0 0 20px rgba(0, 212, 255, 0.6);
    filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.4));
    transition: all 0.3s ease;
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-hero-ad-container:hover .premium-icon-section,
  .universal-promo .premium-hero-ad-container:hover .premium-icon-section,
  .premium-hero-ad-container:hover .premium-icon-section {
    background: linear-gradient(135deg, 
      rgba(0, 212, 255, 0.4) 0%,
      rgba(0, 150, 255, 0.35) 30%,
      rgba(0, 102, 255, 0.3) 70%,
      rgba(0, 86, 239, 0.25) 100%);
    border-color: rgba(0, 212, 255, 0.5);
    box-shadow: 
      0 6px 20px rgba(0, 212, 255, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-hero-ad-container:hover .premium-icon-emoji,
  .universal-promo .premium-hero-ad-container:hover .premium-icon-emoji,
  .premium-hero-ad-container:hover .premium-icon-emoji {
    text-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.6),
      0 0 25px rgba(0, 212, 255, 0.8);
    filter: drop-shadow(0 0 15px rgba(0, 212, 255, 0.6));
    transform: scale(1.1);
  }

  @keyframes iconPulse {
    0%, 100% {
      transform: scale(1);
      filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.4));
    }
    50% {
      transform: scale(1.1);
      filter: drop-shadow(0 0 15px rgba(0, 212, 255, 0.6));
    }
  }

  /* Content section - matches article-content-small */
  .universal-promo.promo-hero.promo-hero-premium-top .premium-content-section,
  .universal-promo .premium-content-section,
  .premium-content-section {
    flex: 1;
    text-align: left;
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-badge-wrapper,
  .universal-promo .premium-badge-wrapper,
  .premium-badge-wrapper {
    margin-bottom: 0.5rem;
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-badge,
  .universal-promo .premium-badge,
  .premium-badge {
    background: linear-gradient(135deg, rgba(0, 224, 255, 0.9), rgba(49, 130, 206, 0.9));
    color: #ffffff;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    padding: 0.25rem 0.75rem;
    border-radius: 6px;
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: inline-block;
  }

  /* Title */
  .universal-promo.promo-hero.promo-hero-premium-top .premium-title,
  .universal-promo .premium-title,
  .premium-title {
    font-size: 1.25rem;
    font-weight: 700;
    line-height: 1.2;
    margin: 0 0 0.5rem 0;
    background: linear-gradient(135deg, #ffffff 0%, #e6f7ff 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 212, 255, 0.3);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }

  /* Description */
  .universal-promo.promo-hero.promo-hero-premium-top .premium-description,
  .universal-promo .premium-description,
  .premium-description {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.95);
    line-height: 1.5;
    margin: 0 0 1rem 0;
    font-weight: 400;
    letter-spacing: 0.2px;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  }

  /* CTA Button */
  .universal-promo.promo-hero.promo-hero-premium-top .premium-cta-button,
  .universal-promo .premium-cta-button,
  .premium-cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.2) 0%, rgba(0, 86, 239, 0.2) 100%);
    border: 1px solid rgba(0, 212, 255, 0.4);
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    padding: 0.75rem 1.25rem;
    border-radius: 12px;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 12px rgba(0, 212, 255, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
  }

  .universal-promo.promo-hero.promo-hero-premium-top .premium-cta-button:hover,
  .universal-promo .premium-cta-button:hover,
  .premium-cta-button:hover {
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.3) 0%, rgba(0, 86, 239, 0.3) 100%);
    border-color: rgba(0, 212, 255, 0.7);
    color: #ffffff;
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 24px rgba(0, 212, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
    text-shadow: 0 0 12px rgba(0, 212, 255, 0.6);
  }

  .premium-cta-text {
    font-weight: 600;
  }

  .premium-cta-arrow {
    transition: transform 0.3s ease;
    will-change: transform;
  }

  .premium-cta-button:hover .premium-cta-arrow {
    transform: translateX(3px);
  }

  /* Animations */
  @keyframes premiumFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
  }

  @keyframes premiumGlow {
    0% { filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 20px rgba(0, 212, 255, 0.4)); }
    100% { filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 30px rgba(0, 212, 255, 0.8)); }
  }

  @keyframes premiumBadgeGlow {
    0%, 100% { box-shadow: 0 2px 8px rgba(0, 212, 255, 0.3); }
    50% { box-shadow: 0 2px 8px rgba(0, 212, 255, 0.6), 0 0 20px rgba(0, 212, 255, 0.4); }
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .premium-hero-ad-container {
      height: auto;
      min-height: 100px;
    }
    
    .premium-hero-ad-inner {
      flex-direction: column;
      padding: 0.75rem;
      gap: 0.75rem;
    }
    
    .premium-icon-section {
      width: 80px;
      height: 80px;
      border-right: none;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .premium-icon-wrapper {
      width: 80px;
      height: 80px;
    }
    
    .premium-icon-emoji {
      font-size: 3rem;
    }
    
    .premium-content-section {
      padding: 0;
      text-align: center;
    }
    
    .premium-title {
      font-size: 1.1rem;
    }
    
    .premium-description {
      font-size: 0.9rem;
    }
  }

  /* ========================================
     SPECTACULAR LEADERBOARD AD DESIGN
     728px Ã— 90px - AWE-INSPIRING PREMIUM
     ======================================== */

  /* Main Leaderboard Container - Force Proper Dimensions */
  .universal-promo.promo-leaderboard .leaderboard-promo-container {
    width: 728px !important;
    height: 90px !important;
    min-height: 90px !important;
    max-height: 90px !important;
    position: relative !important;
    overflow: hidden !important;
    border-radius: 20px !important;
    display: block !important;
    margin: 0 auto 2rem auto !important; /* Set top margin to 0, keep bottom margin at 2rem */
    flex-shrink: 0 !important;
  }

  /* Ensure parent universal-promo doesn't constrain leaderboard */
  .universal-promo.promo-leaderboard {
    width: 100% !important;
    max-width: 728px !important;
    height: auto !important;
    min-height: 90px !important;
    margin: 0 auto 2rem auto !important; /* Set top margin to 0, keep bottom margin at 2rem */
    display: block !important;
    position: relative !important;
  }

  .universal-promo.promo-leaderboard .leaderboard-promo-link {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    width: 100% !important;
    height: 100% !important;
    min-height: 90px !important;
    background: linear-gradient(135deg, 
      #FF6B6B 0%, 
      #4ECDC4 25%, 
      #45B7D1 50%, 
      #96CEB4 75%, 
      #FFEAA7 100%) !important;
    background-size: 400% 400% !important;
    animation: spectacularGradient 8s ease-in-out infinite !important;
    border-radius: 20px !important;
    position: relative !important;
    overflow: hidden !important;
    cursor: pointer !important;
    box-shadow: 
      0 20px 40px rgba(0, 0, 0, 0.3),
      0 0 60px rgba(255, 107, 107, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    border: 2px solid transparent !important;
    background-clip: padding-box !important;
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1) !important;
    transform-style: preserve-3d !important;
    perspective: 1000px !important;
    text-decoration: none !important;
    color: white !important;
    padding: 0 20px !important;
    flex-shrink: 0 !important;
  }

  .universal-promo.promo-sidebar.promo-leaderboard-main .spectacular-leaderboard-link::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, 
      #FF6B6B, #4ECDC4, #45B7D1, #96CEB4, #FFEAA7, 
      #FF6B6B, #4ECDC4, #45B7D1);
    background-size: 400% 400%;
    animation: borderGlow 6s linear infinite;
    border-radius: 22px;
    z-index: -1;
  }

  .universal-promo.promo-sidebar.promo-leaderboard-main .spectacular-leaderboard-link:hover {
    transform: translateY(-8px) rotateX(10deg) scale(1.05);
    box-shadow: 
      0 30px 60px rgba(0, 0, 0, 0.4),
      0 0 100px rgba(255, 107, 107, 0.6),
      inset 0 2px 0 rgba(255, 255, 255, 0.4);
    animation-duration: 4s;
  }

  @keyframes spectacularGradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes borderGlow {
    0% { background-position: 0% 50%; }
    100% { background-position: 400% 50%; }
  }

  /* Inner Content Layout - Already handled in main link styles */

  /* Left Section - Icon & Content */
  .universal-promo.promo-sidebar.promo-leaderboard-main .spectacular-content {
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    gap: 5px !important;
    flex: 1 !important;
    height: 100% !important;
    padding-left: 10px !important;
  }

  /* Premium Icon with Spectacular Effects */
  .universal-promo.promo-sidebar.promo-leaderboard .leaderboard-floating-icon {
    position: relative !important;
    z-index: 10 !important;
  }

  .universal-promo.promo-sidebar.promo-leaderboard .leaderboard-icon-wrapper {
    width: 60px !important;
    height: 60px !important;
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.9) 0%, 
      rgba(255, 255, 255, 0.6) 100%) !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: relative !important;
    box-shadow: 
      0 10px 20px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.8) !important;
    animation: iconFloat 4s ease-in-out infinite !important;
    backdrop-filter: blur(20px) !important;
    border: 2px solid rgba(255, 255, 255, 0.5) !important;
  }

  .universal-promo.promo-sidebar.promo-leaderboard .leaderboard-icon-halo {
    content: '' !important;
    position: absolute !important;
    inset: -5px !important;
    background: conic-gradient(from 0deg, 
      #FF6B6B, #4ECDC4, #45B7D1, #96CEB4, #FFEAA7, #FF6B6B) !important;
    border-radius: 50% !important;
    z-index: -1 !important;
    animation: iconHalo 3s linear infinite !important;
  }

  .universal-promo.promo-leaderboard .leaderboard-icon-emoji {
    font-size: 28px !important;
    animation: iconSpin 6s ease-in-out infinite !important;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) !important;
  }

  @keyframes iconFloat {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-5px) scale(1.1); }
  }

  @keyframes iconHalo {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  @keyframes iconSpin {
    0%, 100% { transform: rotate(0deg) scale(1); }
    25% { transform: rotate(90deg) scale(1.1); }
    50% { transform: rotate(180deg) scale(1); }
    75% { transform: rotate(270deg) scale(1.1); }
  }

  /* Premium Badge */
  .universal-promo.promo-leaderboard .leaderboard-premium-badge {
    position: absolute !important;
    top: -8px !important;
    left: 15px !important;
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%) !important;
    color: #000 !important;
    padding: 4px 12px !important;
    border-radius: 12px !important;
    font-size: 10px !important;
    font-weight: 900 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    box-shadow: 
      0 4px 8px rgba(255, 215, 0, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.6) !important;
    animation: badgePulse 2s ease-in-out infinite !important;
    border: 1px solid rgba(255, 255, 255, 0.8) !important;
    z-index: 20 !important;
  }

  @keyframes badgePulse {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 0 4px 8px rgba(255, 215, 0, 0.4);
    }
    50% { 
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(255, 215, 0, 0.6);
    }
  }

  /* Typography - Title */
  .universal-promo.promo-leaderboard .leaderboard-title {
    font-size: 16px !important;
    font-weight: 900;
    background: none !important; /* Ensure no background clip */
    -webkit-background-clip: unset !important; /* Ensure no background clip */
    -webkit-text-fill-color: #000000 !important; /* Force black text fill */
    color: #000000 !important; /* Black font color */
    margin: 0;
    line-height: 1.2 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    animation: titleShimmer 3s ease-in-out infinite;
    letter-spacing: 0.5px;
  }

  /* Leaderboard Content Layout */
  .leaderboard-content {
    display: flex;
    flex-direction: column;
    gap: 2px; /* Reintroduced small gap for spacing */
  }

  @keyframes titleShimmer {
    0%, 100% { 
      background-position: 0% 50%;
      transform: translateX(0px);
    }
    50% { 
      background-position: 100% 50%;
      transform: translateX(2px);
    }
  }

  /* Description */
  .universal-promo.promo-leaderboard .leaderboard-description {
    font-size: 11px !important;
    color: #00008B !important; /* Dark blue font color */
    margin: 0;
    line-height: 1.3 !important;
    text-shadow: none; /* Remove shadow */
    font-weight: 500;
    letter-spacing: 0.3px;
  }

  /* CTA Button - Spectacular */
  .universal-promo.promo-leaderboard .leaderboard-cta-button {
    background: linear-gradient(135deg, 
      #FF4757 0%, 
      #FF3742 50%, 
      #FF1744 100%) !important;
    color: #FFFFFF !important;
    padding: 8px 20px !important;
    border-radius: 25px !important;
    font-size: 12px !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    border: none !important;
    cursor: pointer !important;
    position: relative !important;
    overflow: hidden !important;
    box-shadow: 
      0 6px 12px rgba(255, 71, 87, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    animation: ctaPulse 4s ease-in-out infinite !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
    display: block !important;
  }

  .universal-promo.promo-sidebar.promo-leaderboard-main .spectacular-cta-text {
    position: relative !important;
    z-index: 10 !important;
  }

  .universal-promo.promo-leaderboard .leaderboard-cta-shine {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, 
      transparent, 
      rgba(255, 255, 255, 0.4), 
      transparent) !important;
    transition: left 0.6s ease !important;
  }

  .universal-promo.promo-leaderboard .leaderboard-promo-link:hover .leaderboard-cta-shine {
    left: 100% !important;
  }

  .universal-promo.promo-leaderboard .leaderboard-promo-link:hover .leaderboard-cta-button {
    transform: translateY(-2px) scale(1.05) !important;
    box-shadow: 
      0 8px 16px rgba(255, 71, 87, 0.6),
      inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
    background: linear-gradient(135deg, 
      #FF3742 0%, 
      #FF1744 50%, 
      #E91E63 100%) !important;
  }

  @keyframes ctaPulse {
    0%, 100% { 
      box-shadow: 0 6px 12px rgba(255, 71, 87, 0.4);
    }
    50% { 
      box-shadow: 0 8px 20px rgba(255, 71, 87, 0.6);
    }
  }

  /* Particle Effects */
  .universal-promo.promo-leaderboard .leaderboard-particles {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    pointer-events: none !important;
    z-index: 5 !important;
  }

  .universal-promo.promo-leaderboard .leaderboard-particle {
    position: absolute !important;
    width: 4px !important;
    height: 4px !important;
    background: rgba(255, 255, 255, 0.8) !important;
    border-radius: 50% !important;
    animation: particleFloat 8s ease-in-out infinite !important;
  }

  .universal-promo.promo-sidebar.promo-leaderboard-main .spectacular-particle-1 {
    top: 20% !important;
    left: 15% !important;
    animation-delay: 0s !important;
  }

  .universal-promo.promo-sidebar.promo-leaderboard-main .spectacular-particle-2 {
    top: 60% !important;
    left: 70% !important;
    animation-delay: 2s !important;
  }

  .universal-promo.promo-sidebar.promo-leaderboard-main .spectacular-particle-3 {
    top: 40% !important;
    left: 90% !important;
    animation-delay: 4s !important;
  }

  @keyframes particleFloat {
    0% { transform: translateX(0px) translateY(0px); }
    33% { transform: translateX(30px) translateY(-10px); }
    66% { transform: translateX(-20px) translateY(10px); }
    100% { transform: translateX(0px) translateY(0px); }
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .universal-promo.promo-sidebar.promo-leaderboard-main {
      width: 100% !important;
      max-width: 728px !important;
      height: 90px !important;
    }
  }

  /* Sidebar Promo Layout Fixes - Direct Component Styling */
  .universal-promo .sidebar-promo {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    padding: 1rem !important;
    box-sizing: border-box !important;
    position: relative !important;
    overflow: hidden !important;
  }

  .universal-promo .sidebar-promo .promo-content {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    height: 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  .universal-promo .sidebar-promo .promo-icon {
    width: 40px !important;
    height: 40px !important;
    border-radius: 50% !important;
    background: rgba(255, 255, 255, 0.2) !important;
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin-bottom: 0.4rem !important;
    flex-shrink: 0 !important;
  }

  .universal-promo .sidebar-promo .promo-title {
    font-size: 0.95rem !important;
    font-weight: 700 !important;
    margin: 0 0 0.3rem 0 !important;
    line-height: 1.2 !important;
    color: white !important;
  }

  .universal-promo .sidebar-promo .promo-description {
    font-size: 0.75rem !important;
    line-height: 1.3 !important;
    margin: 0 0 0.6rem 0 !important;
    color: rgba(255, 255, 255, 0.9) !important;
    max-height: 2.6em !important;
    overflow: hidden !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
  }

  .universal-promo .sidebar-promo .promo-cta {
    background: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    padding: 0.4rem 0.8rem !important;
    border-radius: 12px !important;
    font-weight: 600 !important;
    font-size: 0.8rem !important;
    backdrop-filter: blur(10px) !important;
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1) !important;
    transition: all 0.3s ease !important;
    flex-shrink: 0 !important;
    white-space: nowrap !important;
    text-decoration: none !important;
  }

  .universal-promo .sidebar-promo .promo-cta:hover {
    background: rgba(255, 255, 255, 0.3) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(255, 255, 255, 0.2) !important;
  }

  .universal-promo .sidebar-promo .promo-badge {
    position: absolute !important;
    top: 0.75rem !important;
    right: 0.75rem !important;
    background: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
    padding: 0.2rem 0.6rem !important;
    border-radius: 20px !important;
    font-size: 0.65rem !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    z-index: 10 !important;
  }

</style>

<script define:vars={{ trackingCode }}>
  // Inject the tracking function
  eval(trackingCode);
</script>
