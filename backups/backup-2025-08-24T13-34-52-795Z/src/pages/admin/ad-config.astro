---
/**
 * Ad Configuration Manager - Admin interface for managing strategic ad placements
 * Centralized control panel for optimizing revenue and avoiding ad-blocker detection
 */

import { adManager } from '../../lib/ad-manager.ts';
import RevenueAnalytics from '../../components/RevenueAnalytics.astro';
import { AdManager as ConfigAdManager } from '../../config/adConfig.ts';

const activeSlots = adManager.getActiveSlots();
const revenueProjection = adManager.getRevenueProjection();
const configAds = ConfigAdManager.getTotalEstimatedRevenue();

// Mock performance data
const performanceData = {
  'premium-sidebar-1': { revenue: 850, ctr: 2.4, impressions: 35400 },
  'premium-sidebar-2': { revenue: 580, ctr: 2.1, impressions: 27600 },
  'article-banner-top': { revenue: 620, ctr: 1.8, impressions: 34500 },
  'article-content-middle': { revenue: 420, ctr: 1.5, impressions: 28000 }
};
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Placement Manager - AI Buzz Media</title>
  <meta name="robots" content="noindex, nofollow">
</head>
<body>
  <div class="admin-container">
    <header class="admin-header">
      <div class="header-content">
        <h1>üéØ Strategic Content Placement Manager</h1>
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-value">${revenueProjection.total.toLocaleString()}</span>
            <span class="stat-label">Monthly Target</span>
          </div>
          <div class="stat-item">
            <span class="stat-value">{activeSlots.length}</span>
            <span class="stat-label">Active Placements</span>
          </div>
          <div class="stat-item">
            <span class="stat-value">${configAds.toLocaleString()}</span>
            <span class="stat-label">Config Revenue</span>
          </div>
        </div>
      </div>
    </header>

    <section class="analytics-section">
      <RevenueAnalytics showDetailedMetrics={true} />
    </section>

    <!-- Ad Creation Modal -->
    <div id="ad-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modal-title">Create New Ad Placement</h2>
          <span class="close">&times;</span>
        </div>
        <form id="ad-form">
          <div class="form-group">
            <label for="ad-title">Ad Title *</label>
            <input type="text" id="ad-title" name="title" required maxlength="60" placeholder="Enter ad title">
          </div>
          
          <div class="form-group">
            <label for="ad-description">Description *</label>
            <textarea id="ad-description" name="description" required maxlength="150" rows="3" placeholder="Brief description of the offer"></textarea>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="ad-cta">Call to Action *</label>
              <input type="text" id="ad-cta" name="cta" required maxlength="20" placeholder="e.g., Get Started">
            </div>
            
            <div class="form-group">
              <label for="ad-url">CTA URL *</label>
              <input type="url" id="ad-url" name="url" required placeholder="https://example.com">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="ad-type">Ad Type *</label>
              <select id="ad-type" name="type" required>
                <option value="">Select ad type</option>
                <option value="sidebar">Sidebar (300x250)</option>
                <option value="leaderboard">Leaderboard (728x90)</option>
                <option value="hero">Hero Placement</option>
                <option value="inline">Inline Content</option>
                <option value="banner">Banner</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="ad-placement">Placement Location *</label>
              <select id="ad-placement" name="placement" required>
                <option value="">Select placement</option>
                <option value="homepage-sidebar-top">Homepage Sidebar - Top</option>
                <option value="homepage-sidebar-bottom">Homepage Sidebar - Bottom</option>
                <option value="category-sidebar-top">Category Sidebar - Top</option>
                <option value="article-top">Article - Top</option>
                <option value="article-middle">Article - Middle</option>
                <option value="homepage-leaderboard">Homepage Leaderboard</option>
                <option value="footer-banner">Footer Banner</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="ad-priority">Priority *</label>
              <select id="ad-priority" name="priority" required>
                <option value="1">1 - Highest (Premium)</option>
                <option value="2">2 - High</option>
                <option value="3">3 - Medium</option>
                <option value="4">4 - Low</option>
                <option value="5">5 - Lowest</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="ad-cpm">CPM Rate ($ per 1,000 views) *</label>
              <input type="number" id="ad-cpm" name="cpm" required min="1" max="100" step="0.01" placeholder="25.00">
            </div>
          </div>
          
          <div class="form-group">
            <label for="ad-targeting">Targeting Categories</label>
            <div class="checkbox-group">
              <label class="checkbox-item">
                <input type="checkbox" name="targeting" value="ai-tools"> AI Tools
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="targeting" value="entrepreneurs"> Entrepreneurs
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="targeting" value="saas"> SaaS
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="targeting" value="productivity"> Productivity
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="targeting" value="business"> Business
              </label>
              <label class="checkbox-item">
                <input type="checkbox" name="targeting" value="marketing"> Marketing
              </label>
            </div>
          </div>
          
          <div class="form-group">
            <label for="ad-notes">Internal Notes</label>
            <textarea id="ad-notes" name="notes" rows="2" placeholder="Any internal notes about this ad"></textarea>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn-secondary" id="cancel-ad">Cancel</button>
            <button type="submit" class="btn-primary">Create Ad</button>
          </div>
        </form>
      </div>
    </div>

    <section class="slot-management">
      <div class="section-header">
        <h2>Content Placement Configuration</h2>
        <button class="btn-primary" id="add-placement">+ Add New Placement</button>
      </div>

      <div class="slots-grid">
        {activeSlots.map(slot => {
          const performance = performanceData[slot.id as keyof typeof performanceData] || {};
          const revenue = performance.revenue || 0;
          const ctr = performance.ctr || 0;
          const impressions = performance.impressions || 0;
          
          return (
            <div class="slot-card" data-slot-id={slot.id}>
              <div class="slot-header">
                <div class="slot-info">
                  <h3 class="slot-name">{slot.name}</h3>
                  <span class={`slot-priority priority-${slot.priority}`}>{slot.priority.toUpperCase()}</span>
                </div>
                <div class="slot-controls">
                  <button class="btn-edit" data-action="edit" data-slot-id={slot.id}>‚úèÔ∏è</button>
                  <button class="btn-toggle" data-action="toggle" data-slot-id={slot.id}>
                    {slot.isActive ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}
                  </button>
                </div>
              </div>

              <div class="slot-metrics">
                <div class="metric">
                  <span class="metric-value">${revenue}</span>
                  <span class="metric-label">Revenue</span>
                </div>
                <div class="metric">
                  <span class="metric-value">{ctr}%</span>
                  <span class="metric-label">CTR</span>
                </div>
                <div class="metric">
                  <span class="metric-value">{impressions.toLocaleString()}</span>
                  <span class="metric-label">Impressions</span>
                </div>
              </div>

              <div class="slot-details">
                <div class="detail-row">
                  <span class="detail-label">Size:</span>
                  <span class="detail-value">{slot.size}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Position:</span>
                  <span class="detail-value">{slot.position}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">CPM Range:</span>
                  <span class="detail-value">{slot.cpmRange}</span>
                </div>
              </div>

              <div class="slot-targeting">
                <div class="targeting-header">
                  <div class="targeting-title">
                    <span class="targeting-icon">üéØ</span>
                    <span class="targeting-label">Targeting</span>
                  </div>
                  <span class="targeting-count">{slot.targeting && slot.targeting.length > 0 ? slot.targeting.length : 0} categories</span>
                </div>
                <div class="targeting-tags">
                  {slot.targeting && slot.targeting.length > 0 ? (
                    slot.targeting.map((tag, index) => (
                      <span 
                        class="targeting-tag" 
                        title={`Targets: ${tag.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}`}
                        data-tag={tag}
                      >
                        {tag.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}
                        {index === 0 && slot.targeting.length > 3 && (
                          <span class="tag-count">+{slot.targeting.length - 1}</span>
                        )}
                      </span>
                    )).slice(0, 3)
                  ) : (
                    <span class="targeting-tag no-targeting">No targeting set</span>
                  )}
                  {slot.targeting && slot.targeting.length > 3 && (
                    <span class="targeting-tag more-tags" title={`And ${slot.targeting.length - 3} more categories`}>
                      +{slot.targeting.length - 3} more
                    </span>
                  )}
                </div>
              </div>

              <div class="slot-actions">
                <button class="btn-optimize" data-slot-id={slot.id}>üöÄ Optimize</button>
                <button class="btn-test" data-slot-id={slot.id}>üß™ A/B Test</button>
                <button class="btn-delete" data-slot-id={slot.id}>üóëÔ∏è Delete</button>
              </div>
            </div>
          );
        })}
      </div>
    </section>

    <section class="optimization-tools">
      <div class="section-header">
        <h2>Revenue Optimization Tools</h2>
      </div>

      <div class="tools-grid">
        <div class="tool-card">
          <div class="tool-header">
            <h3>üìà CPM Optimizer</h3>
            <span class="tool-status active">Active</span>
          </div>
          <div class="tool-content">
            <p>Automatically adjusts targeting and positioning to maximize CPM rates.</p>
            <div class="tool-metrics">
              <span class="improvement">+23% CPM increase</span>
              <span class="timeframe">Last 30 days</span>
            </div>
            <button class="tool-action" id="configure-cpm">Configure Settings</button>
          </div>
        </div>

        <div class="tool-card">
          <div class="tool-header">
            <h3>üõ°Ô∏è Blocker Evasion</h3>
            <span class="tool-status active">Active</span>
          </div>
          <div class="tool-content">
            <p>Dynamic class names and terminology to avoid detection.</p>
            <div class="tool-metrics">
              <span class="improvement">97% visibility rate</span>
              <span class="timeframe">Current</span>
            </div>
            <button class="tool-action" id="update-terms">Update Terms</button>
          </div>
        </div>
      </div>
    </section>

    <section class="quick-actions">
      <div class="section-header">
        <h2>Quick Actions</h2>
      </div>

      <div class="actions-grid">
        <button class="action-btn revenue-boost" id="revenue-boost">
          <span class="action-icon">üöÄ</span>
          <span class="action-text">Revenue Boost Mode</span>
          <span class="action-desc">Activate high-CPM placements</span>
        </button>

        <button class="action-btn emergency-disable" id="emergency-disable">
          <span class="action-icon">‚èπÔ∏è</span>
          <span class="action-text">Emergency Disable</span>
          <span class="action-desc">Disable all placements instantly</span>
        </button>
      </div>
    </section>
  </div>

  <script is:inline>
    document.addEventListener('DOMContentLoaded', function() {
      // Modal functionality
      const modal = document.getElementById('ad-modal');
      const addBtn = document.getElementById('add-placement');
      const closeBtn = document.querySelector('.close');
      const cancelBtn = document.getElementById('cancel-ad');
      const adForm = document.getElementById('ad-form');
      const modalTitle = document.getElementById('modal-title');

      // Open modal
      addBtn.addEventListener('click', function() {
        modal.style.display = 'block';
        modalTitle.textContent = 'Create New Ad Placement';
        adForm.reset();
      });

      // Close modal
      function closeModal() {
        modal.style.display = 'none';
      }

      closeBtn.addEventListener('click', closeModal);
      cancelBtn.addEventListener('click', closeModal);

      // Close modal when clicking outside
      window.addEventListener('click', function(event) {
        if (event.target === modal) {
          closeModal();
        }
      });

      // Handle form submission
      adForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(adForm);
        const adData = {
          title: formData.get('title'),
          description: formData.get('description'),
          cta: formData.get('cta'),
          url: formData.get('url'),
          type: formData.get('type'),
          placement: formData.get('placement'),
          priority: parseInt(formData.get('priority')),
          cpm: parseFloat(formData.get('cpm')),
          targeting: formData.getAll('targeting'),
          notes: formData.get('notes')
        };

        // Create the ad (this would integrate with your backend)
        createAd(adData);
        closeModal();
      });

      function createAd(adData) {
        // This is where you'd integrate with your actual ad system
        console.log('Creating new ad:', adData);
        
        // For now, just show a success message
        showNotification('Ad created successfully!', 'success');
        
        // In a real implementation, you'd:
        // 1. Send data to your backend
        // 2. Update the ad manager
        // 3. Refresh the page or update the UI
        // 4. Store in your database/CMS
      }

      // Slot management functionality
      const slotCards = document.querySelectorAll('.slot-card');
      slotCards.forEach(function(card) {
        const slotId = card.getAttribute('data-slot-id');
        
        const toggleBtn = card.querySelector('[data-action="toggle"]');
        if (toggleBtn) {
          toggleBtn.addEventListener('click', function() {
            const isActive = toggleBtn.textContent && toggleBtn.textContent.trim() === '‚è∏Ô∏è';
            if (toggleBtn.textContent) {
              toggleBtn.textContent = isActive ? '‚ñ∂Ô∏è' : '‚è∏Ô∏è';
            }
            card.classList.toggle('inactive', isActive);
            
            // Update the ad status in your system
            if (isActive) {
              adManager.disableSlot(slotId);
            } else {
              adManager.enableSlot(slotId);
            }
            
            showNotification((isActive ? 'Disabled' : 'Enabled') + ' slot: ' + slotId, 'info');
          });
        }

        const editBtn = card.querySelector('[data-action="edit"]');
        if (editBtn) {
          editBtn.addEventListener('click', function() {
            // Open modal in edit mode
            modalTitle.textContent = 'Edit Ad Placement';
            // Populate form with existing data
            populateFormForEdit(slotId);
            modal.style.display = 'block';
          });
        }

        const optimizeBtn = card.querySelector('.btn-optimize');
        if (optimizeBtn) {
          optimizeBtn.addEventListener('click', function() {
            console.log('Optimizing slot: ' + slotId);
            const optimizedSlot = adManager.optimizeSlotPerformance(slotId);
            if (optimizedSlot) {
              showNotification('Optimization completed for slot: ' + slotId, 'success');
            } else {
              showNotification('No optimization needed for slot: ' + slotId, 'info');
            }
          });
        }

        const deleteBtn = card.querySelector('.btn-delete');
        if (deleteBtn) {
          deleteBtn.addEventListener('click', function() {
            if (confirm('Are you sure you want to delete this ad placement? This action cannot be undone.')) {
              adManager.disableSlot(slotId);
              card.remove();
              showNotification('Ad placement deleted', 'warning');
            }
          });
        }
      });

      // Quick actions
      const revenueBoostBtn = document.getElementById('revenue-boost');
      if (revenueBoostBtn) {
        revenueBoostBtn.addEventListener('click', function() {
          console.log('Activating revenue boost mode');
          // Activate all premium placements
          const premiumSlots = adManager.getHighPerformingSlots();
          premiumSlots.forEach(slot => {
            slot.isActive = true;
          });
          showNotification('Revenue boost mode activated! ' + premiumSlots.length + ' premium slots enabled', 'success');
        });
      }

      const emergencyDisableBtn = document.getElementById('emergency-disable');
      if (emergencyDisableBtn) {
        emergencyDisableBtn.addEventListener('click', function() {
          if (confirm('Are you sure you want to disable all placements? This will stop all advertising immediately.')) {
            console.log('Disabling all placements');
            const allSlots = adManager.getActiveSlots();
            allSlots.forEach(slot => {
              adManager.disableSlot(slot.id);
            });
            showNotification('All placements disabled', 'warning');
            // Refresh the page to show updated status
            setTimeout(() => location.reload(), 1000);
          }
        });
      }

      // Tool actions
      const configureCpmBtn = document.getElementById('configure-cpm');
      if (configureCpmBtn) {
        configureCpmBtn.addEventListener('click', function() {
          showNotification('CPM optimization settings opened', 'info');
          // This would open a configuration panel
        });
      }

      const updateTermsBtn = document.getElementById('update-terms');
      if (updateTermsBtn) {
        updateTermsBtn.addEventListener('click', function() {
          showNotification('Updating ad-blocker evasion terms', 'info');
          // This would update the terminology system
        });
      }

      function populateFormForEdit(slotId) {
        // This would populate the form with existing ad data
        // For now, just show a placeholder
        showNotification('Edit mode - populate with existing data', 'info');
      }

      function showNotification(message, type) {
        type = type || 'info';
        const notification = document.createElement('div');
        notification.className = 'notification ' + type;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(function() { notification.classList.add('show'); }, 100);
        setTimeout(function() {
          notification.classList.remove('show');
          setTimeout(function() { 
            if (notification.parentNode) {
              document.body.removeChild(notification); 
            }
          }, 300);
        }, 3000);
      }
    });
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0b; color: #fff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    .admin-container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    
    .admin-header { background: rgba(26, 26, 27, 0.95); border: 1px solid rgba(0, 212, 255, 0.2); border-radius: 16px; padding: 24px; margin-bottom: 32px; }
    .header-content { display: flex; justify-content: space-between; align-items: center; }
    .admin-header h1 { font-size: 28px; font-weight: 700; color: #00d4ff; }
    .header-stats { display: flex; gap: 32px; }
    .stat-item { text-align: center; }
    .stat-value { display: block; font-size: 24px; font-weight: 700; color: #00d4ff; }
    .stat-label { display: block; font-size: 14px; color: rgba(255, 255, 255, 0.7); margin-top: 4px; }
    
    .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
    .section-header h2 { font-size: 22px; font-weight: 600; color: #fff; }
    
    .btn-primary { background: linear-gradient(90deg, #00d4ff, #0099cc); color: #000; border: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
    .btn-primary:hover { background: linear-gradient(90deg, #0099cc, #007399); transform: translateY(-1px); }
    
    .slots-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 24px; }
    .slot-card { background: rgba(26, 26, 27, 0.95); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px; transition: all 0.3s ease; }
    .slot-card:hover { border-color: rgba(0, 212, 255, 0.3); transform: translateY(-2px); }
    .slot-card.inactive { opacity: 0.6; }
    
    .slot-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px; }
    .slot-name { font-size: 18px; font-weight: 600; color: #fff; margin: 0 0 8px 0; }
    .slot-priority { padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; text-transform: uppercase; }
    .priority-premium { background: rgba(255, 107, 53, 0.1); color: #ff6b35; }
    .priority-high { background: rgba(0, 212, 255, 0.1); color: #00d4ff; }
    
    .slot-controls { display: flex; gap: 8px; }
    .btn-edit, .btn-toggle { background: rgba(255, 255, 255, 0.1); border: none; padding: 8px; border-radius: 6px; cursor: pointer; }
    
    .slot-metrics { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px; }
    .metric { text-align: center; }
    .metric-value { display: block; font-size: 18px; font-weight: 700; color: #00d4ff; }
    .metric-label { display: block; font-size: 12px; color: rgba(255, 255, 255, 0.7); margin-top: 4px; }
    
    .slot-details { margin-bottom: 16px; }
    .detail-row { display: flex; justify-content: space-between; margin-bottom: 8px; }
    .detail-label { color: rgba(255, 255, 255, 0.7); font-size: 14px; }
    .detail-value { color: #fff; font-size: 14px; font-weight: 500; }
    
    .slot-targeting { margin-bottom: 16px; }
    .targeting-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .targeting-title { display: flex; align-items: center; gap: 8px; }
    .targeting-icon { font-size: 18px; }
    .targeting-label { color: rgba(255, 255, 255, 0.7); font-size: 14px; }
    .targeting-count { color: #00d4ff; font-size: 14px; font-weight: 500; }
    .targeting-tags { display: flex; flex-wrap: wrap; gap: 8px; }
    .targeting-tag { 
      background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(0, 212, 255, 0.05) 100%); 
      color: #00d4ff; 
      padding: 6px 10px; 
      border-radius: 8px; 
      font-size: 11px; 
      font-weight: 600;
      border: 1px solid rgba(0, 212, 255, 0.2);
      transition: all 0.3s ease;
      cursor: default;
      position: relative;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    .targeting-tag:hover { 
      background: linear-gradient(135deg, rgba(0, 212, 255, 0.2) 0%, rgba(0, 212, 255, 0.1) 100%); 
      border-color: rgba(0, 212, 255, 0.4);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 212, 255, 0.3);
    }
    .targeting-tag.no-targeting { 
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%); 
      color: rgba(255, 255, 255, 0.6); 
      border-color: rgba(255, 255, 255, 0.2);
      font-style: italic;
      font-weight: 400;
      text-transform: none;
      letter-spacing: normal;
    }
    .targeting-tag.no-targeting:hover { 
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.1) 100%); 
      border-color: rgba(255, 255, 255, 0.3);
      transform: none;
      box-shadow: 0 2px 6px rgba(255, 255, 255, 0.1);
    }
    
    .tag-count {
      background: rgba(0, 212, 255, 0.3);
      color: #fff;
      font-size: 9px;
      padding: 2px 4px;
      border-radius: 4px;
      margin-left: 6px;
      font-weight: 700;
      border: 1px solid rgba(0, 212, 255, 0.5);
    }
    
    .targeting-tag.more-tags {
      background: linear-gradient(135deg, rgba(255, 193, 7, 0.1) 0%, rgba(255, 193, 7, 0.05) 100%);
      color: #ffc107;
      border-color: rgba(255, 193, 7, 0.3);
      font-style: italic;
      font-weight: 500;
      text-transform: none;
      letter-spacing: normal;
    }
    
    .targeting-tag.more-tags:hover {
      background: linear-gradient(135deg, rgba(255, 193, 7, 0.2) 0%, rgba(255, 193, 7, 0.1) 100%);
      border-color: rgba(255, 193, 7, 0.5);
      transform: translateY(-1px);
      box-shadow: 0 3px 10px rgba(255, 193, 7, 0.2);
    }
    
    .slot-actions { display: flex; gap: 12px; }
    .btn-optimize, .btn-test, .btn-delete { flex: 1; background: rgba(255, 255, 255, 0.1); color: #fff; border: none; padding: 10px; border-radius: 6px; font-size: 12px; cursor: pointer; }
    .btn-delete { background: rgba(239, 68, 68, 0.1); color: #ef4444; }
    
    .tools-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
    .tool-card { background: rgba(26, 26, 27, 0.95); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px; }
    .tool-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .tool-status.active { background: rgba(34, 197, 94, 0.1); color: #22c55e; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; }
    .improvement { color: #22c55e; font-weight: 600; }
    .tool-action { background: rgba(0, 212, 255, 0.1); color: #00d4ff; border: 1px solid rgba(0, 212, 255, 0.2); padding: 10px 16px; border-radius: 6px; cursor: pointer; width: 100%; }
    
    .actions-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; }
    .action-btn { background: rgba(26, 26, 27, 0.95); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px; cursor: pointer; text-align: left; }
    .action-icon { font-size: 24px; display: block; margin-bottom: 8px; }
    .action-text { color: #fff; font-size: 16px; font-weight: 600; display: block; margin-bottom: 4px; }
    .action-desc { color: rgba(255, 255, 255, 0.7); font-size: 13px; }
    
    /* Modal Styles */
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); }
    .modal-content { background: #1a1a1b; margin: 5% auto; padding: 0; border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 16px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; }
    .modal-header { padding: 20px 24px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); display: flex; justify-content: space-between; align-items: center; }
    .modal-header h2 { color: #00d4ff; margin: 0; }
    .close { color: #aaa; font-size: 28px; font-weight: bold; cursor: pointer; }
    .close:hover { color: #00d4ff; }
    
    /* Form Styles */
    #ad-form { padding: 24px; }
    .form-group { margin-bottom: 20px; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .form-group label { display: block; margin-bottom: 8px; color: #fff; font-weight: 500; }
    .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: #fff; font-size: 14px; }
    .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #00d4ff; background: rgba(255, 255, 255, 0.1); }
    .form-group input::placeholder, .form-group textarea::placeholder { color: rgba(255, 255, 255, 0.5); }
    
    .checkbox-group { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; }
    .checkbox-item { display: flex; align-items: center; gap: 8px; cursor: pointer; }
    .checkbox-item input[type="checkbox"] { width: auto; margin: 0; }
    
    .form-actions { display: flex; gap: 16px; justify-content: flex-end; margin-top: 24px; }
    .btn-secondary { background: rgba(255, 255, 255, 0.1); color: #fff; border: 1px solid rgba(255, 255, 255, 0.2); padding: 12px 24px; border-radius: 8px; cursor: pointer; }
    .btn-secondary:hover { background: rgba(255, 255, 255, 0.2); }
    
    .notification { position: fixed; top: 20px; right: 20px; padding: 12px 20px; border-radius: 8px; color: #fff; z-index: 1000; transform: translateX(100%); transition: transform 0.3s ease; }
    .notification.show { transform: translateX(0); }
    .notification.success { background: #22c55e; }
    .notification.warning { background: #f7931e; }
    .notification.info { background: #00d4ff; color: #000; }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .form-row { grid-template-columns: 1fr; }
      .checkbox-group { grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); }
      .header-stats { flex-direction: column; gap: 16px; }
      .modal-content { width: 95%; margin: 10% auto; }
    }
  </style>
</body>
</html>
