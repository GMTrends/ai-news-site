---
// Analytics Dashboard Component
// Displays key metrics that advertisers need to see
---

<div class="analytics-dashboard">
  <div class="dashboard-header">
    <h2>üìä Audience Insights Dashboard</h2>
    <p class="dashboard-subtitle">Key metrics and demographics for advertisers</p>
  </div>
  
  <div class="metrics-grid">
    <!-- Traffic Metrics -->
    <div class="metric-card traffic">
      <div class="metric-icon">üë•</div>
      <div class="metric-content">
        <h3>Traffic Overview</h3>
        <div class="metric-value">
          <span class="number" id="monthly-visitors">--</span>
          <span class="label">Monthly Visitors</span>
        </div>
        <div class="metric-value">
          <span class="number" id="page-views">--</span>
          <span class="label">Page Views</span>
        </div>
        <div class="metric-value">
          <span class="number" id="avg-session">--</span>
          <span class="label">Avg. Session</span>
        </div>
      </div>
    </div>
    
    <!-- Engagement Metrics -->
    <div class="metric-card engagement">
      <div class="metric-icon">üéØ</div>
      <div class="metric-content">
        <h3>Engagement</h3>
        <div class="metric-value">
          <span class="number" id="bounce-rate">--</span>
          <span class="label">Bounce Rate</span>
        </div>
        <div class="metric-value">
          <span class="number" id="scroll-depth">--</span>
          <span class="label">Avg. Scroll Depth</span>
        </div>
        <div class="metric-value">
          <span class="number" id="time-on-page">--</span>
          <span class="label">Time on Page</span>
        </div>
      </div>
    </div>
    
    <!-- Newsletter Metrics -->
    <div class="metric-card newsletter">
      <div class="metric-icon">üìß</div>
      <div class="metric-content">
        <h3>Newsletter</h3>
        <div class="metric-value">
          <span class="number" id="subscribers">--</span>
          <span class="label">Subscribers</span>
        </div>
        <div class="metric-value">
          <span class="number" id="open-rate">--</span>
          <span class="label">Open Rate</span>
        </div>
        <div class="metric-value">
          <span class="number" id="click-rate">--</span>
          <span class="label">Click Rate</span>
        </div>
      </div>
    </div>
    
    <!-- Content Performance -->
    <div class="metric-card content">
      <div class="metric-icon">üìà</div>
      <div class="metric-content">
        <h3>Top Content</h3>
        <div class="metric-value">
          <span class="number" id="top-article-views">--</span>
          <span class="label">Top Article Views</span>
        </div>
        <div class="metric-value">
          <span class="number" id="avg-engagement">--</span>
          <span class="label">Avg. Engagement</span>
        </div>
        <div class="metric-value">
          <span class="number" id="content-categories">--</span>
          <span class="label">Content Categories</span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Demographics Section -->
  <div class="demographics-section">
    <h3>üë• Audience Demographics</h3>
    <div class="demographics-grid">
      <div class="demographic-card">
        <h4>Age Distribution</h4>
        <div class="age-chart" id="age-chart">
          <div class="chart-placeholder">Age data loading...</div>
        </div>
      </div>
      
      <div class="demographic-card">
        <h4>Geographic Reach</h4>
        <div class="location-chart" id="location-chart">
          <div class="chart-placeholder">Location data loading...</div>
        </div>
      </div>
      
      <div class="demographic-card">
        <h4>Interests & Affinities</h4>
        <div class="interests-chart" id="interests-chart">
          <div class="chart-placeholder">Interests data loading...</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Content Categories -->
  <div class="content-categories-section">
    <h3>üìö Content Categories Performance</h3>
    <div class="categories-grid" id="categories-grid">
      <div class="category-card">
        <div class="category-header">
          <span class="category-icon">ü§ñ</span>
          <h4>AI Agents</h4>
        </div>
        <div class="category-stats">
          <div class="stat">
            <span class="stat-label">Views</span>
            <span class="stat-value" id="ai-agents-views">--</span>
          </div>
          <div class="stat">
            <span class="stat-label">Engagement</span>
            <span class="stat-value" id="ai-agents-engagement">--</span>
          </div>
        </div>
      </div>
      
      <div class="category-card">
        <div class="category-header">
          <span class="category-icon">üíº</span>
          <h4>Business</h4>
        </div>
        <div class="category-stats">
          <div class="stat">
            <span class="stat-label">Views</span>
            <span class="stat-value" id="business-views">--</span>
          </div>
          <div class="stat">
            <span class="stat-label">Engagement</span>
            <span class="stat-value" id="business-engagement">--</span>
          </div>
        </div>
      </div>
      
      <div class="category-card">
        <div class="category-header">
          <span class="category-icon">üé®</span>
          <h4>Creative</h4>
        </div>
        <div class="category-stats">
          <div class="stat">
            <span class="stat-label">Views</span>
            <span class="stat-value" id="creative-views">--</span>
          </div>
          <div class="stat">
            <span class="stat-label">Engagement</span>
            <span class="stat-value" id="creative-engagement">--</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Data Update Info -->
  <div class="data-info">
    <p class="update-info">
      <span class="info-icon">‚ÑπÔ∏è</span>
      Data updates every 24 hours. Last updated: <span id="last-updated">--</span>
    </p>
    <p class="data-note">
      <span class="note-icon">üìù</span>
      This dashboard shows anonymized, aggregated data in compliance with privacy regulations.
    </p>
  </div>
</div>

<script>
  // Analytics Dashboard Script
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize dashboard with mock data (replace with real API calls)
    initializeDashboard();
    
    // Update last updated timestamp
    updateTimestamp();
    
    // Set up periodic updates (every 5 minutes)
    setInterval(updateTimestamp, 5 * 60 * 1000);
  });
  
  function initializeDashboard() {
    // Mock data - replace with real analytics API calls
    const mockData = {
      monthlyVisitors: 2500,
      pageViews: 8500,
      avgSession: '2m 45s',
      bounceRate: '32%',
      scrollDepth: '68%',
      timeOnPage: '3m 12s',
      subscribers: 450,
      openRate: '42%',
      clickRate: '18%',
      topArticleViews: 1200,
      avgEngagement: '78%',
      contentCategories: 4,
      categories: {
        'ai-agents': { views: 3200, engagement: '82%' },
        'business': { views: 2800, engagement: '75%' },
        'creative': { views: 2500, engagement: '71%' }
      }
    };
    
    // Update dashboard with mock data
    updateDashboard(mockData);
  }
  
  function updateDashboard(data: any) {
    // Update traffic metrics
    const monthlyVisitorsEl = document.getElementById('monthly-visitors');
    if (monthlyVisitorsEl) monthlyVisitorsEl.textContent = data.monthlyVisitors.toLocaleString();
    
    const pageViewsEl = document.getElementById('page-views');
    if (pageViewsEl) pageViewsEl.textContent = data.pageViews.toLocaleString();
    
    const avgSessionEl = document.getElementById('avg-session');
    if (avgSessionEl) avgSessionEl.textContent = data.avgSession;
    
    // Update engagement metrics
    const bounceRateEl = document.getElementById('bounce-rate');
    if (bounceRateEl) bounceRateEl.textContent = data.bounceRate;
    
    const scrollDepthEl = document.getElementById('scroll-depth');
    if (scrollDepthEl) scrollDepthEl.textContent = data.scrollDepth;
    
    const timeOnPageEl = document.getElementById('time-on-page');
    if (timeOnPageEl) timeOnPageEl.textContent = data.timeOnPage;
    
    // Update newsletter metrics
    const subscribersEl = document.getElementById('subscribers');
    if (subscribersEl) subscribersEl.textContent = data.subscribers.toLocaleString();
    
    const openRateEl = document.getElementById('open-rate');
    if (openRateEl) openRateEl.textContent = data.openRate;
    
    const clickRateEl = document.getElementById('click-rate');
    if (clickRateEl) clickRateEl.textContent = data.clickRate;
    
    // Update content metrics
    const topArticleViewsEl = document.getElementById('top-article-views');
    if (topArticleViewsEl) topArticleViewsEl.textContent = data.topArticleViews.toLocaleString();
    
    const avgEngagementEl = document.getElementById('avg-engagement');
    if (avgEngagementEl) avgEngagementEl.textContent = data.avgEngagement;
    
    const contentCategoriesEl = document.getElementById('content-categories');
    if (contentCategoriesEl) contentCategoriesEl.textContent = data.contentCategories;
    
    // Update category stats
    Object.keys(data.categories).forEach(category => {
      const stats = data.categories[category];
      const viewsEl = document.getElementById(`${category}-views`);
      if (viewsEl) viewsEl.textContent = stats.views.toLocaleString();
      
      const engagementEl = document.getElementById(`${category}-engagement`);
      if (engagementEl) engagementEl.textContent = stats.engagement;
    });
  }
  
  function updateTimestamp() {
    const now = new Date();
    const formattedDate = now.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
    const lastUpdatedEl = document.getElementById('last-updated');
    if (lastUpdatedEl) lastUpdatedEl.textContent = formattedDate;
  }
</script>

<style>
  .analytics-dashboard {
    background: var(--bg-secondary);
    border-radius: 16px;
    padding: 2rem;
    margin: 2rem 0;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .dashboard-header {
    text-align: center;
    margin-bottom: 3rem;
  }
  
  .dashboard-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--accent-cyan) 0%, var(--accent-blue) 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
  }
  
  .dashboard-subtitle {
    font-size: 1.1rem;
    color: var(--text-muted);
    margin: 0;
  }
  
  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
  }
  
  .metric-card {
    background: var(--bg-card);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }
  
  .metric-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--accent-cyan), var(--accent-blue));
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }
  
  .metric-card:hover::before {
    transform: scaleX(1);
  }
  
  .metric-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 212, 255, 0.1);
    border-color: rgba(0, 212, 255, 0.3);
  }
  
  .metric-card.traffic::before {
    background: linear-gradient(90deg, #10b981, #059669);
  }
  
  .metric-card.engagement::before {
    background: linear-gradient(90deg, #3b82f6, #1d4ed8);
  }
  
  .metric-card.newsletter::before {
    background: linear-gradient(90deg, #8b5cf6, #7c3aed);
  }
  
  .metric-card.content::before {
    background: linear-gradient(90deg, #f59e0b, #d97706);
  }
  
  .metric-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
    display: block;
  }
  
  .metric-content h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
  }
  
  .metric-value {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
  }
  
  .metric-value:last-child {
    margin-bottom: 0;
  }
  
  .metric-value .number {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--accent-cyan);
  }
  
  .metric-value .label {
    font-size: 0.9rem;
    color: var(--text-secondary);
  }
  
  .demographics-section {
    margin-bottom: 3rem;
  }
  
  .demographics-section h3 {
    font-size: 1.8rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 2rem;
    text-align: center;
  }
  
  .demographics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }
  
  .demographic-card {
    background: var(--bg-card);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
  }
  
  .demographic-card h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
  }
  
  .chart-placeholder {
    color: var(--text-muted);
    font-style: italic;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
  }
  
  .content-categories-section {
    margin-bottom: 3rem;
  }
  
  .content-categories-section h3 {
    font-size: 1.8rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 2rem;
    text-align: center;
  }
  
  .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
  }
  
  .category-card {
    background: var(--bg-card);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
  }
  
  .category-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(0, 212, 255, 0.1);
    border-color: rgba(0, 212, 255, 0.2);
  }
  
  .category-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
  }
  
  .category-icon {
    font-size: 1.5rem;
  }
  
  .category-header h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
  }
  
  .category-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  
  .stat {
    text-align: center;
  }
  
  .stat-label {
    display: block;
    font-size: 0.8rem;
    color: var(--text-muted);
    margin-bottom: 0.25rem;
  }
  
  .stat-value {
    display: block;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--accent-cyan);
  }
  
  .data-info {
    background: rgba(0, 212, 255, 0.05);
    border: 1px solid rgba(0, 212, 255, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
  }
  
  .update-info, .data-note {
    margin: 0.5rem 0;
    color: var(--text-secondary);
    font-size: 0.9rem;
  }
  
  .info-icon, .note-icon {
    margin-right: 0.5rem;
  }
  
  @media (max-width: 768px) {
    .analytics-dashboard {
      padding: 1.5rem;
      margin: 1rem 0;
    }
    
    .dashboard-header h2 {
      font-size: 2rem;
    }
    
    .metrics-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }
    
    .demographics-grid {
      grid-template-columns: 1fr;
    }
    
    .categories-grid {
      grid-template-columns: 1fr;
    }
    
    .category-stats {
      grid-template-columns: 1fr;
      gap: 0.75rem;
    }
  }
</style>
