/* TEMP DEBUG: highlight sticky targets and print diagnostics */
:root {
  --sticky-debug: 1;
}

/* Targeted debug CSS for sticky sidebar elements only */
.category-layout > .sidebar.sticky-col,
aside.category-sidebar {
  outline: 5px dashed #00d4ff !important;
  outline-offset: 5px !important;
  background: rgba(0,212,255,0.2) !important;
  border: 3px solid #ff0000 !important;
  position: relative !important; /* ensure ::before can position correctly */
  isolation: isolate !important;  /* create a new stacking context for the debug stripe */
  z-index: 9998 !important;       /* raise above local siblings */
}

/* Pin indicator bar at top of sticky element */
.category-layout > .sidebar.sticky-col::before,
aside.category-sidebar::before {
  content: "sticky-target";
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  display: block;
  background: rgba(0,212,255,0.6);
  color: #0a0a0b;
  font: 700 12px/1.6 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  padding: 3px 8px;
  z-index: 9999 !important;       /* ensure on top of most elements */
  box-shadow: 0 2px 8px rgba(0,212,255,0.6);
  pointer-events: none;
}

/* NOTE: Do not override body overflow here; keep scroll container stable (managed in global.css) */
/* body overflow override removed */

/* MINIMAL STICKY TEST - Simple test element to verify sticky works */
.sticky-test {
  position: sticky !important;
  top: var(--header-offset, 90px) !important; /* align with header offset for realistic behavior */
  background: red !important;
  color: white !important;
  padding: 10px !important;
  z-index: 99999 !important;
  font-size: 14px !important;
  font-weight: bold !important;
}

/* A small floating panel to show computed debug info */
#sticky-debug-panel {
  position: fixed;
  right: 8px;
  bottom: 8px;
  width: 300px;
  max-width: 90vw;
  background: rgba(10,10,11,0.95);
  color: #b3eaff;
  border: 1px solid rgba(0,212,255,0.6);
  border-radius: 8px;
  padding: 10px 12px;
  font: 12px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  z-index: 2147483647 !important; /* force above all */
  box-shadow: 0 6px 24px rgba(0,212,255,0.35);
  pointer-events: none;
}

/* Hide panel on very small screens */
@media (max-width: 640px) {
  #sticky-debug-panel { display: none; }
}
