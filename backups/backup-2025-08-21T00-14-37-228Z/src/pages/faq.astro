---
import { sanityClient } from 'sanity:client';
import Layout from '../layouts/BlogPost.astro';

// Fetch all published FAQs from Sanity
const faqs = await sanityClient.fetch(`
  *[_type == "faq" && isPublished == true] | order(priority desc, _createdAt asc) {
    _id,
    question,
    answer,
    category,
    priority,
    tags,
    helpfulCount,
    relatedArticles[]-> {
      title,
      slug
    }
  }
`);

// Helper function to convert Sanity block content to formatted HTML
function blockContentToHTML(blocks) {
  if (!blocks || !Array.isArray(blocks)) return '';
  
  return blocks
    .map(block => {
      if (block._type === 'block' && block.children) {
        // Handle different block styles
        const textContent = block.children
          .map(child => {
            let text = child.text || '';
            
            // Apply marks (bold, italic, etc.)
            if (child.marks && child.marks.length > 0) {
              child.marks.forEach(mark => {
                if (mark === 'strong') {
                  text = `<strong>${text}</strong>`;
                } else if (mark === 'em') {
                  text = `<em>${text}</em>`;
                }
              });
            }
            
            return text;
          })
          .join('');
        
        // Convert markdown-style formatting
        let formattedText = textContent
          .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // **bold**
          .replace(/\*(.*?)\*/g, '<em>$1</em>') // *italic*
          .replace(/\n‚Ä¢\s/g, '\n<li>') // bullet points
          .replace(/\n\n/g, '</p><p>') // paragraph breaks
          .replace(/\n/g, '<br>'); // line breaks
        
        // Handle list items
        if (block.listItem === 'bullet') {
          return `<li>${formattedText}</li>`;
        }
        
        // Handle different styles
        if (block.style === 'normal') {
          // Check if it contains list items
          if (formattedText.includes('<li>')) {
            const parts = formattedText.split('\n<li>');
            const firstPart = parts[0];
            const listItems = parts.slice(1).map(item => `<li>${item}</li>`).join('');
            return `<p>${firstPart}</p><ul>${listItems}</ul>`;
          }
          return `<p>${formattedText}</p>`;
        } else if (block.style && block.style.startsWith('h')) {
          const level = block.style.charAt(1);
          return `<h${level}>${formattedText}</h${level}>`;
        }
        
        return `<p>${formattedText}</p>`;
      }
      return '';
    })
    .join('');
}

// Helper function to convert category names to camel case
function toCamelCase(str) {
  return str
    .split('-')
    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())
    .join(' ');
}

// Group FAQs by category
const faqsByCategory = faqs.reduce((acc, faq) => {
  const category = faq.category || 'General';
  if (!acc[category]) {
    acc[category] = [];
  }
  acc[category].push(faq);
  return acc;
}, {});
---

<Layout
  title="Frequently Asked Questions"
  description="Find answers to common questions about AI tools, automation, and our services."
  pubDate={new Date()}
>
  <div class="faq-container">
    <div class="faq-intro">
      <h1>Frequently Asked Questions</h1>
      <p>Find answers to the most common questions about AI tools, automation, and our services. Can't find what you're looking for? <a href="/contact">Contact us</a> for more help.</p>
    </div>

    <!-- FAQ Search -->
    <div class="faq-search">
      <input 
        type="text" 
        id="faqSearch" 
        placeholder="Search FAQs..." 
        class="search-input"
      />
    </div>

    <!-- FAQ Categories -->
    <div class="faq-categories">
      {Object.entries(faqsByCategory).map(([category, categoryFaqs]) => (
        <div class="category-section" data-category={category.toLowerCase()}>
          <h2 class="category-title">{toCamelCase(category)}</h2>
          <div class="faq-list">
            {categoryFaqs.map((faq, index) => (
              <div class="faq-item" data-question={faq.question.toLowerCase()}>
                <button class="faq-question" type="button">
                  <span class="question-text">{faq.question}</span>
                  <span class="toggle-icon">+</span>
                </button>
                <div class="faq-answer">
                  <div class="answer-content">
                    <div set:html={blockContentToHTML(faq.answer)}></div>
                    
                    {faq.relatedArticles && faq.relatedArticles.length > 0 && (
                      <div class="related-articles">
                        <h4>Related Articles:</h4>
                        <ul>
                          {faq.relatedArticles.map((article) => (
                            <li>
                              <a href={`/blog/${article.slug.current}`}>
                                {article.title}
                              </a>
                            </li>
                          ))}
                        </ul>
                      </div>
                    )}
                    
                    <div class="faq-actions">
                      <div class="helpful-section">
                        <span>Was this helpful?</span>
                        <button class="helpful-btn" data-faq-id={faq._id} data-action="yes">
                          üëç Yes
                        </button>
                        <button class="helpful-btn" data-faq-id={faq._id} data-action="no">
                          üëé No
                        </button>
                        {faq.helpfulCount > 0 && (
                          <span class="helpful-count">({faq.helpfulCount} found this helpful)</span>
                        )}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>

    {Object.keys(faqsByCategory).length === 0 && (
      <div class="no-faqs">
        <h2>No FAQs available yet</h2>
        <p>We're working on adding helpful FAQs. Please check back soon or <a href="/contact">contact us</a> with your questions.</p>
      </div>
    )}
  </div>
</Layout>

<script>
  // FAQ Toggle functionality
  document.addEventListener('DOMContentLoaded', function() {
    const faqItems = document.querySelectorAll('.faq-item');
    const searchInput = document.getElementById('faqSearch');

    // Toggle FAQ answers
    faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');
      const answer = item.querySelector('.faq-answer');
      const icon = item.querySelector('.toggle-icon');

      question.addEventListener('click', () => {
        const isOpen = answer.style.display === 'block';
        
        // Close all other FAQs
        faqItems.forEach(otherItem => {
          if (otherItem !== item) {
            otherItem.querySelector('.faq-answer').style.display = 'none';
            otherItem.querySelector('.toggle-icon').textContent = '+';
            otherItem.classList.remove('active');
          }
        });

        // Toggle current FAQ
        if (isOpen) {
          answer.style.display = 'none';
          icon.textContent = '+';
          item.classList.remove('active');
        } else {
          answer.style.display = 'block';
          icon.textContent = '‚àí';
          item.classList.add('active');
        }
      });
    });

    // Search functionality
    if (searchInput) {
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const categories = document.querySelectorAll('.category-section');

        categories.forEach(category => {
          const faqs = category.querySelectorAll('.faq-item');
          let hasVisibleFaqs = false;

          faqs.forEach(faq => {
            const questionText = faq.dataset.question;
            if (questionText.includes(searchTerm)) {
              faq.style.display = 'block';
              hasVisibleFaqs = true;
            } else {
              faq.style.display = 'none';
            }
          });

          // Hide category if no FAQs match
          category.style.display = hasVisibleFaqs ? 'block' : 'none';
        });
      });
    }

    // Helpful button functionality
    const helpfulButtons = document.querySelectorAll('.helpful-btn');
    helpfulButtons.forEach(button => {
      button.addEventListener('click', function() {
        const faqId = this.dataset.faqId;
        const action = this.dataset.action;
        
        // Here you could send the feedback to your backend
        // For now, just show a thank you message
        this.style.backgroundColor = action === 'yes' ? '#22c55e' : '#ef4444';
        this.style.color = 'white';
        this.textContent = action === 'yes' ? '‚úì Thanks!' : '‚úì Thanks for feedback';
        this.disabled = true;
        
        // Disable the other button too
        const siblingButton = this.parentNode.querySelector(`[data-action="${action === 'yes' ? 'no' : 'yes'}"]`);
        if (siblingButton) {
          siblingButton.disabled = true;
          siblingButton.style.opacity = '0.5';
        }
      });
    });
  });
</script>

<style>
:root {
  --gradient-primary: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%);
  --gradient-secondary: linear-gradient(135deg, rgba(0, 212, 255, 0.8) 0%, rgba(0, 102, 255, 0.8) 100%);
  --gradient-subtle: linear-gradient(135deg, rgba(0, 212, 255, 0.05) 0%, rgba(0, 102, 255, 0.05) 100%);
  --color-text: #ffffff;
  --color-text-secondary: #b3b3b3;
  --color-text-muted: #888888;
  --color-bg: #1a1a1b;
  --color-card: rgba(26, 26, 27, 0.8);
  --border-color: rgba(255, 255, 255, 0.1);
  --border-color-active: rgba(0, 212, 255, 0.4);
  --glow-primary: 0 0 20px rgba(0, 212, 255, 0.3);
  --glow-secondary: 0 0 30px rgba(0, 212, 255, 0.5);
  --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.3), 0 4px 16px rgba(0, 212, 255, 0.1);
  --shadow-card-hover: 0 12px 48px rgba(0, 0, 0, 0.4), 0 8px 24px rgba(0, 212, 255, 0.15);
}

.faq-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 3rem 2rem;
  background: var(--color-bg);
  min-height: 100vh;
}

.faq-intro {
  text-align: center;
  margin-bottom: 4rem;
  position: relative;
}

.faq-intro::before {
  content: '';
  position: absolute;
  top: -2rem;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 4px;
  background: var(--gradient-primary);
  border-radius: 2px;
  box-shadow: var(--glow-primary);
}

.faq-intro h1 {
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 700;
  font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 1.5rem;
  letter-spacing: -0.02em;
  line-height: 1.1;
  text-shadow: 0 0 40px rgba(0, 212, 255, 0.3);
  filter: drop-shadow(0 0 8px rgba(0, 212, 255, 0.2));
}

.faq-intro p {
  color: var(--color-text-secondary);
  font-size: clamp(1.1rem, 2vw, 1.25rem);
  line-height: 1.6;
  max-width: 600px;
  margin: 0 auto;
  font-weight: 400;
}

.faq-intro a {
  color: #00d4ff;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.faq-intro a:hover {
  color: #ffffff;
  text-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
  transform: translateY(-1px);
}

.faq-search {
  margin-bottom: 3rem;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  position: relative;
}

.search-input {
  width: 100%;
  padding: 1.25rem 1.5rem;
  background: var(--color-card);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 2px solid var(--border-color);
  border-radius: 20px;
  font-size: 1.1rem;
  font-family: 'Inter', sans-serif;
  color: var(--color-text);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: var(--shadow-card);
  outline: none;
  box-sizing: border-box;
  position: relative;
}

.search-input::placeholder {
  color: var(--color-text-muted);
  font-weight: 400;
}

.search-input:hover {
  border: 2px solid transparent;
  background: linear-gradient(var(--color-card), var(--color-card)) padding-box,
              linear-gradient(135deg, #00d4ff, #0066ff, #00d4ff) border-box;
  transform: translateY(-3px) scale(1.02);
  box-shadow: 
    var(--shadow-card-hover),
    0 0 20px rgba(0, 212, 255, 0.4),
    0 0 40px rgba(0, 212, 255, 0.2);
}

.search-input:focus {
  border-color: var(--border-color-active);
  box-shadow: 
    var(--shadow-card-hover),
    0 0 0 4px rgba(0, 212, 255, 0.1);
  transform: translateY(-2px);
}

.category-section {
  margin-bottom: 3rem;
  position: relative;
}

.category-title {
  font-size: clamp(1.75rem, 3vw, 2.25rem);
  font-weight: 700;
  font-family: 'Space Grotesk', sans-serif;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 1.5rem;
  position: relative;
  letter-spacing: -0.01em;
}

.faq-list {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.faq-item {
  background: var(--color-card);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1.5px solid var(--border-color);
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: var(--shadow-card);
  position: relative;
}

.faq-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-subtle);
  opacity: 0;
  transition: opacity 0.4s ease;
  z-index: 0;
}

.faq-item:hover {
  border-color: var(--border-color-active);
  box-shadow: var(--shadow-card-hover);
  transform: translateY(-4px);
}

.faq-item:hover::before {
  opacity: 1;
}

.faq-item.active {
  border-color: var(--border-color-active);
  box-shadow: var(--shadow-card-hover);
}

.faq-item.active::before {
  opacity: 1;
}

.faq-question {
  width: 100%;
  padding: 1.5rem 2rem;
  background: transparent;
  border: none;
  text-align: left;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: clamp(1.1rem, 2vw, 1.25rem);
  font-weight: 600;
  font-family: 'Space Grotesk', sans-serif;
  color: var(--color-text);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  z-index: 1;
  line-height: 1.4;
}

.faq-question:hover {
  color: #00d4ff;
  text-shadow: 0 0 8px rgba(0, 212, 255, 0.3);
}

.question-text {
  flex: 1;
  margin-right: 1.5rem;
  text-align: left;
}

.toggle-icon {
  font-size: 1.75rem;
  font-weight: 300;
  color: #00d4ff;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(0, 212, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(0, 212, 255, 0.2);
  flex-shrink: 0;
}

.faq-item.active .toggle-icon {
  transform: rotate(45deg);
  background: rgba(0, 212, 255, 0.2);
  border-color: rgba(0, 212, 255, 0.4);
  box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
}

.faq-answer {
  display: none;
  border-top: 1px solid var(--border-color);
  position: relative;
  z-index: 1;
}

.answer-content {
  padding: 2rem;
  animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.answer-content p {
  color: var(--color-text-secondary);
  line-height: 1.7;
  font-size: 1.05rem;
  margin-bottom: 1.5rem;
  font-weight: 400;
}

.answer-content strong {
  color: var(--color-text);
  font-weight: 600;
}

.answer-content em {
  font-style: italic;
  color: var(--color-text-secondary);
}

.answer-content ul {
  list-style: none;
  padding: 0;
  margin: 1rem 0 1.5rem 0;
}

.answer-content li {
  color: var(--color-text-secondary);
  line-height: 1.7;
  font-size: 1.05rem;
  margin-bottom: 0.5rem;
  padding-left: 1.5rem;
  position: relative;
}

.answer-content li::before {
  content: '‚Ä¢';
  color: #00d4ff;
  position: absolute;
  left: 0;
  font-weight: bold;
}

.answer-content h1,
.answer-content h2,
.answer-content h3,
.answer-content h4,
.answer-content h5,
.answer-content h6 {
  color: var(--color-text);
  font-family: 'Space Grotesk', sans-serif;
  font-weight: 600;
  margin: 1.5rem 0 1rem 0;
  line-height: 1.3;
}

/* Add extra spacing when headings follow lists */
.answer-content ul + h1,
.answer-content ul + h2,
.answer-content ul + h3,
.answer-content ul + h4,
.answer-content ul + h5,
.answer-content ul + h6 {
  margin-top: 2rem;
}

/* Add extra spacing when headings follow paragraphs that end with lists */
.answer-content p:has(+ ul) + h1,
.answer-content p:has(+ ul) + h2,
.answer-content p:has(+ ul) + h3,
.answer-content p:has(+ ul) + h4,
.answer-content p:has(+ ul) + h5,
.answer-content p:has(+ ul) + h6 {
  margin-top: 2rem;
}

.answer-content h1 { font-size: 1.5rem; }
.answer-content h2 { font-size: 1.35rem; }
.answer-content h3 { font-size: 1.2rem; }
.answer-content h4 { font-size: 1.1rem; }
.answer-content h5 { font-size: 1.05rem; }
.answer-content h6 { font-size: 1rem; }

.related-articles {
  margin-top: 2rem;
  padding: 1.5rem;
  background: rgba(0, 212, 255, 0.05);
  border: 1px solid rgba(0, 212, 255, 0.1);
  border-radius: 12px;
  backdrop-filter: blur(10px);
}

.related-articles h4 {
  color: #00d4ff;
  margin-bottom: 1rem;
  font-size: 1.1rem;
  font-weight: 600;
  font-family: 'Space Grotesk', sans-serif;
}

.related-articles ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.related-articles li {
  position: relative;
  padding-left: 1.5rem;
}

.related-articles li::before {
  content: '‚Üí';
  position: absolute;
  left: 0;
  color: #00d4ff;
  font-weight: bold;
}

.related-articles a {
  color: var(--color-text);
  text-decoration: none;
  font-size: 0.95rem;
  font-weight: 500;
  transition: all 0.3s ease;
  line-height: 1.5;
}

.related-articles a:hover {
  color: #00d4ff;
  text-shadow: 0 0 8px rgba(0, 212, 255, 0.3);
  transform: translateX(4px);
}

.faq-actions {
  margin-top: 2rem;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 12px;
  border: 1px solid var(--border-color);
}

.helpful-section {
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 0.95rem;
  flex-wrap: wrap;
}

.helpful-section > span:first-child {
  color: var(--color-text-secondary);
  font-weight: 500;
}

.helpful-btn {
  padding: 0.75rem 1.25rem;
  border: 1.5px solid var(--border-color);
  background: rgba(0, 212, 255, 0.05);
  backdrop-filter: blur(10px);
  border-radius: 10px;
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--color-text);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.helpful-btn:hover:not(:disabled) {
  border-color: var(--border-color-active);
  background: rgba(0, 212, 255, 0.1);
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0, 212, 255, 0.15);
}

.helpful-btn:disabled {
  cursor: not-allowed;
  opacity: 0.7;
}

.helpful-count {
  color: var(--color-text-muted);
  font-size: 0.85rem;
  font-style: italic;
}

.no-faqs {
  text-align: center;
  padding: 4rem 2rem;
  background: var(--color-card);
  border-radius: 20px;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow-card);
}

.no-faqs h2 {
  color: var(--color-text);
  margin-bottom: 1rem;
  font-size: 1.75rem;
  font-weight: 600;
  font-family: 'Space Grotesk', sans-serif;
}

.no-faqs p {
  color: var(--color-text-secondary);
  font-size: 1.1rem;
  line-height: 1.6;
}

.no-faqs a {
  color: #00d4ff;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
}

.no-faqs a:hover {
  color: #ffffff;
  text-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
}

/* Enhanced Responsive Design */
@media (max-width: 1200px) {
  .faq-container {
    max-width: 900px;
    padding: 2.5rem 1.5rem;
  }
}

@media (max-width: 768px) {
  .faq-container {
    padding: 2rem 1rem;
  }

  .faq-intro {
    margin-bottom: 3rem;
  }

  .faq-search {
    margin-bottom: 2.5rem;
  }

  .search-input {
    padding: 1rem 1.25rem;
    font-size: 1rem;
  }

  .category-section {
    margin-bottom: 2.5rem;
  }

  .faq-question {
    padding: 1.25rem 1.5rem;
    font-size: 1.1rem;
  }

  .question-text {
    margin-right: 1rem;
  }

  .toggle-icon {
    width: 36px;
    height: 36px;
    font-size: 1.5rem;
  }

  .answer-content {
    padding: 1.5rem;
  }

  .answer-content p {
    font-size: 1rem;
    line-height: 1.6;
  }

  .related-articles {
    padding: 1.25rem;
    margin-top: 1.5rem;
  }

  .faq-actions {
    padding: 1.25rem;
    margin-top: 1.5rem;
  }

  .helpful-section {
    gap: 0.75rem;
    font-size: 0.9rem;
  }

  .helpful-btn {
    padding: 0.6rem 1rem;
    font-size: 0.85rem;
  }
}

@media (max-width: 480px) {
  .faq-container {
    padding: 1.5rem 0.75rem;
  }

  .faq-intro::before {
    width: 80px;
    height: 3px;
  }

  .faq-intro {
    margin-bottom: 2.5rem;
  }

  .search-input {
    padding: 0.875rem 1rem;
    font-size: 0.95rem;
  }

  .faq-question {
    padding: 1rem 1.25rem;
    font-size: 1rem;
  }

  .question-text {
    margin-right: 0.75rem;
    line-height: 1.3;
  }

  .toggle-icon {
    width: 32px;
    height: 32px;
    font-size: 1.25rem;
  }

  .answer-content {
    padding: 1.25rem;
  }

  .answer-content p {
    font-size: 0.95rem;
    margin-bottom: 1.25rem;
  }

  .related-articles {
    padding: 1rem;
  }

  .related-articles ul {
    gap: 0.4rem;
  }

  .related-articles li {
    padding-left: 1.25rem;
  }

  .related-articles a {
    font-size: 0.9rem;
  }

  .faq-actions {
    padding: 1rem;
  }

  .helpful-section {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .helpful-section > span:first-child {
    margin-bottom: 0.25rem;
  }

  .helpful-btn {
    padding: 0.5rem 0.875rem;
    font-size: 0.8rem;
    min-width: 80px;
  }
}

/* High-resolution displays */
@media (min-resolution: 2dppx) {
  .faq-item {
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
  }

  .search-input {
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
  }
}

/* Dark mode enhancements */
@media (prefers-color-scheme: dark) {
  .faq-container {
    background: #0a0a0b;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .faq-item,
  .search-input,
  .helpful-btn,
  .toggle-icon,
  .faq-question {
    transition: none;
  }

  .answer-content {
    animation: none;
  }
}

/* Focus styles for accessibility */
.faq-question:focus-visible {
  outline: 2px solid #00d4ff;
  outline-offset: 2px;
}

.helpful-btn:focus-visible {
  outline: 2px solid #00d4ff;
  outline-offset: 2px;
}

.search-input:focus-visible {
  outline: 2px solid #00d4ff;
  outline-offset: 2px;
}
</style>
